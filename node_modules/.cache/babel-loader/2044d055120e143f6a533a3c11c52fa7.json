{"ast":null,"code":"var _jsxFileName = \"E:\\\\Work-Files\\\\Maxffort\\\\Client-Projects\\\\HSST-Madhi-Consultancy\\\\Code\\\\dev\\\\edu-project\\\\live\\\\edu-app-admin\\\\src\\\\components\\\\tables\\\\ExamTable\\\\index.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { forwardRef, useEffect, useState } from \"react\";\nimport MaterialTable, { MTableToolbar } from \"material-table\";\nimport api from \"../../../api/api\";\nimport { getCredentials } from \"../../../services/authService\";\nimport { getAllExams } from \"../../../actions/examActions\";\nimport { AddBox, ArrowDownward, Search, Clear, FirstPage, LastPage, ChevronLeft, FilterList, Check, DeleteOutline, Edit, SaveAlt, Delete, ViewColumn, ChevronRight, Remove, PhoneDisabled, PersonAddDisabled } from \"@material-ui/icons\";\nimport { icon } from \"@fortawesome/fontawesome-svg-core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginTop: 32\n  },\n  toolbar: {\n    backgroundColor: theme.palette.primary.main,\n    color: \"white\"\n  }\n}));\n\nconst ExamTable = props => {\n  _s();\n\n  const classes = useStyles();\n  const allExams = useSelector(state => state.allExams);\n  const {\n    loading,\n    data\n  } = allExams;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getAllExams());\n  }, []);\n  const tableColumns = [{\n    title: \"Id\",\n    field: \"id\",\n    align: \"left\"\n  }, {\n    title: \"Name\",\n    field: \"Title\",\n    align: \"left\"\n  }, {\n    title: \"Start date\",\n    field: \"StartDate\",\n    align: \"left\"\n  }, {\n    title: \"End date\",\n    field: \"EndDate\",\n    align: \"left\"\n  }, {\n    title: \"Status\",\n    field: \"Status\",\n    align: \"left\",\n    lookup: {\n      active: \"active\",\n      inactive: 'inactive'\n    }\n  }, {\n    title: \"Practise\",\n    field: \"Practise\",\n    align: \"left\",\n    lookup: {\n      yes: \"yes\",\n      no: 'no'\n    }\n  }];\n  const tableOptions = {\n    search: true,\n    exportButton: true,\n    // selection: true,\n    filtering: true // actionsColumnIndex: -1,\n\n  };\n\n  const disableExam = async (userId, status) => {\n    try {\n      const res = await api.post(\"admin/\", {}, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getCredentials()}`\n        }\n      }, {\n        timeout: 1000\n      });\n      props.getAllUser();\n      return true;\n    } catch (error) {\n      console.log(error, \"DU\");\n      return false;\n    }\n  };\n\n  const actionOptions = [{\n    icon: () => /*#__PURE__*/React.createElement(Edit, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 19\n      }\n    }),\n    tooltip: \"Edit\",\n    onClick: (evt, data) => console.log(data),\n    isFreeAction: false\n  }, {\n    icon: () => /*#__PURE__*/React.createElement(PersonAddDisabled, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 19\n      }\n    }),\n    tooltip: \"Disable\",\n    onClick: (evt, data) => disableExam(data.id, data.Status)\n  }];\n  const tableIcons = {\n    Add: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(AddBox, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 37\n      }\n    }))),\n    Check: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Check, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 39\n      }\n    }))),\n    Clear: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 39\n      }\n    }))),\n    Delete: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(DeleteOutline, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 40\n      }\n    }))),\n    DetailPanel: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 7\n      }\n    }))),\n    Edit: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Edit, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 38\n      }\n    }))),\n    Export: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(SaveAlt, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 40\n      }\n    }))),\n    Filter: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(FilterList, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 40\n      }\n    }))),\n    FirstPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(FirstPage, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 43\n      }\n    }))),\n    LastPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(LastPage, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 42\n      }\n    }))),\n    NextPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 42\n      }\n    }))),\n    PreviousPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronLeft, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }\n    }))),\n    ResetSearch: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 45\n      }\n    }))),\n    Search: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Search, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 40\n      }\n    }))),\n    SortArrow: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(ArrowDownward, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }\n    }))),\n    ThirdStateCheck: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Remove, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 7\n      }\n    }))),\n    ViewColumn: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(ViewColumn, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 44\n      }\n    })))\n  };\n  const editable = {\n    onRowDelete: async oldData => {\n      try {\n        const {\n          id\n        } = oldData;\n        const res = await api.post(\"admin/\", {}, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: ` Bearer ${getCredentials()}`\n          }\n        }, {\n          timeout: 1000\n        });\n        props.getAllUser();\n      } catch (error) {\n        console.log(error, \"LU\");\n        return false;\n      }\n\n      return true;\n    }\n  };\n\n  const handleRowclick = id => {\n    props.history.push('/app/exams/details/' + id);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MaterialTable, {\n    options: tableOptions,\n    isLoading: loading,\n    icons: tableIcons,\n    components: {\n      Toolbar: props => /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.toolbar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(MTableToolbar, Object.assign({}, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 19\n        }\n      })))\n    } // editable={editable}\n    ,\n    title: \"Exams\",\n    columns: tableColumns,\n    data: data //   data={query =>\n    //   new Promise((resolve, reject) => {\n    //     api.post(\n    //     '/admin/getExams',\n    //     {limit:10,offset:0},\n    //     {\n    //         headers: {\n    //             'Content-Type': 'application/json',\n    //             Authorization: `Bearer ${getCredentials()}`,\n    //         },\n    //     },\n    //     {timeout:1000}\n    // ).then((res)=>{\n    //   console.log(\"res\",res)\n    //   resolve({data: res.data.response})\n    //   })\n    // .catch((err)=>console.log(err))\n    //   })\n    // }\n    ,\n    onRowClick: (event, rowData) => {\n      console.log(rowData.id, \"r\");\n      handleRowclick(rowData.id);\n    } // actions={actionOptions}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }));\n};\n\n_s(ExamTable, \"NsAzttaST5F/s12LkJ2bFSiauRU=\", false, function () {\n  return [useStyles, useSelector, useDispatch];\n});\n\n_c = ExamTable;\nexport default ExamTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExamTable\");","map":{"version":3,"sources":["E:/Work-Files/Maxffort/Client-Projects/HSST-Madhi-Consultancy/Code/dev/edu-project/live/edu-app-admin/src/components/tables/ExamTable/index.js"],"names":["React","forwardRef","useEffect","useState","MaterialTable","MTableToolbar","api","getCredentials","getAllExams","AddBox","ArrowDownward","Search","Clear","FirstPage","LastPage","ChevronLeft","FilterList","Check","DeleteOutline","Edit","SaveAlt","Delete","ViewColumn","ChevronRight","Remove","PhoneDisabled","PersonAddDisabled","icon","makeStyles","useDispatch","useSelector","useStyles","theme","root","marginTop","toolbar","backgroundColor","palette","primary","main","color","ExamTable","props","classes","allExams","state","loading","data","dispatch","tableColumns","title","field","align","lookup","active","inactive","yes","no","tableOptions","search","exportButton","filtering","disableExam","userId","status","res","post","headers","Authorization","timeout","getAllUser","error","console","log","actionOptions","tooltip","onClick","evt","isFreeAction","id","Status","tableIcons","Add","ref","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","editable","onRowDelete","oldData","handleRowclick","history","push","Toolbar","event","rowData"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { forwardRef, useEffect, useState } from \"react\";\r\nimport MaterialTable, { MTableToolbar }  from \"material-table\";\r\nimport api from \"../../../api/api\";\r\nimport { getCredentials } from \"../../../services/authService\";\r\nimport { getAllExams } from \"../../../actions/examActions\";\r\nimport {\r\n  AddBox,\r\n  ArrowDownward,\r\n  Search,\r\n  Clear,\r\n  FirstPage,\r\n  LastPage,\r\n  ChevronLeft,\r\n  FilterList,\r\n  Check,\r\n  DeleteOutline,\r\n  Edit,\r\n  SaveAlt,\r\n  Delete,\r\n  ViewColumn,\r\n  ChevronRight,\r\n  Remove,\r\n  PhoneDisabled,\r\n  PersonAddDisabled,\r\n} from \"@material-ui/icons\";\r\nimport { icon } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginTop: 32,\r\n  },\r\n  toolbar:{\r\n    backgroundColor:theme.palette.primary.main,\r\n    color:\"white\",\r\n  }\r\n}));\r\nconst ExamTable = (props) => {\r\n  const classes = useStyles();\r\n  const allExams = useSelector((state) => state.allExams);\r\n  const {loading,data}=allExams\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllExams());\r\n  }, []);\r\n\r\n  const tableColumns = [\r\n    { title: \"Id\", field: \"id\", align: \"left\" },\r\n    { title: \"Name\", field: \"Title\", align: \"left\" },\r\n    { title: \"Start date\", field: \"StartDate\", align: \"left\" },\r\n    { title: \"End date\", field: \"EndDate\", align: \"left\" },\r\n    { title: \"Status\", field: \"Status\", align: \"left\", lookup: { active: \"active\", inactive: 'inactive' } },\r\n    { title: \"Practise\", field: \"Practise\", align: \"left\", lookup: { yes: \"yes\", no: 'no' } },\r\n  ];\r\n\r\n  const tableOptions = {\r\n    search: true,\r\n    exportButton: true,\r\n    // selection: true,\r\n    filtering: true,\r\n    // actionsColumnIndex: -1,\r\n  };\r\n\r\n  const disableExam = async (userId, status) => {\r\n    try {\r\n      const res = await api.post(\r\n        \"admin/\",\r\n        {},\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${getCredentials()}`,\r\n          },\r\n        },\r\n        { timeout: 1000 }\r\n      );\r\n      props.getAllUser();\r\n      return true;\r\n    } catch (error) {\r\n      console.log(error, \"DU\");\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const actionOptions = [\r\n    {\r\n      icon: () => <Edit />,\r\n      tooltip: \"Edit\",\r\n      onClick: (evt, data) => console.log(data),\r\n      isFreeAction: false,\r\n    },\r\n    {\r\n      icon: () => <PersonAddDisabled />,\r\n      tooltip: \"Disable\",\r\n      onClick: (evt, data) => disableExam(data.id, data.Status),\r\n    },\r\n  ];\r\n\r\n  const tableIcons = {\r\n    Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n    Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n    Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n    Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n    DetailPanel: forwardRef((props, ref) => (\r\n      <ChevronRight {...props} ref={ref} />\r\n    )),\r\n    Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n    Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n    Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n    FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n    LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n    NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n    PreviousPage: forwardRef((props, ref) => (\r\n      <ChevronLeft {...props} ref={ref} />\r\n    )),\r\n    ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n    Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n    SortArrow: forwardRef((props, ref) => (\r\n      <ArrowDownward {...props} ref={ref} />\r\n    )),\r\n    ThirdStateCheck: forwardRef((props, ref) => (\r\n      <Remove {...props} ref={ref} />\r\n    )),\r\n    ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n  };\r\n\r\n  const editable = {\r\n    onRowDelete: async (oldData) => {\r\n      try {\r\n        const { id } = oldData;\r\n        const res = await api.post(\r\n          \"admin/\",\r\n          {},\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: ` Bearer ${getCredentials()}`,\r\n            },\r\n          },\r\n          { timeout: 1000 }\r\n        );\r\n        props.getAllUser();\r\n      } catch (error) {\r\n        console.log(error, \"LU\");\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n  };\r\n  const handleRowclick = (id) => {\r\n    props.history.push('/app/exams/details/' + id)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <MaterialTable\r\n        options={tableOptions}\r\n        isLoading={loading}\r\n        icons={tableIcons}\r\n        components={{\r\n          Toolbar: props => (\r\n              <div className={classes.toolbar}>\r\n                  <MTableToolbar {...props} />\r\n              </div>\r\n          )\r\n      }}\r\n        // editable={editable}\r\n        title=\"Exams\"\r\n        columns={tableColumns}\r\n        data={data}\r\n        //   data={query =>\r\n        //   new Promise((resolve, reject) => {\r\n        //     api.post(\r\n        //     '/admin/getExams',\r\n        //     {limit:10,offset:0},\r\n        //     {\r\n        //         headers: {\r\n        //             'Content-Type': 'application/json',\r\n        //             Authorization: `Bearer ${getCredentials()}`,\r\n        //         },\r\n        //     },\r\n        //     {timeout:1000}\r\n        // ).then((res)=>{\r\n        //   console.log(\"res\",res)\r\n        //   resolve({data: res.data.response})\r\n        //   })\r\n        // .catch((err)=>console.log(err))\r\n        //   })\r\n        // }\r\n        onRowClick={(event, rowData) => { console.log(rowData.id, \"r\"); handleRowclick(rowData.id) }}\r\n      // actions={actionOptions}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExamTable;\r\n"]},"metadata":{},"sourceType":"module"}