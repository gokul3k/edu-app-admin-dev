{"ast":null,"code":"var _jsxFileName = \"E:\\\\Work-Files\\\\Maxffort\\\\Client-Projects\\\\HSST-Madhi-Consultancy\\\\Code\\\\dev\\\\edu-project\\\\live\\\\edu-app-admin\\\\src\\\\components\\\\tables\\\\SuggestionTable\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { forwardRef, useEffect, useState } from \"react\";\nimport MaterialTable from \"material-table\";\nimport { AddBox, ArrowDownward, Search, Clear, FirstPage, LastPage, ChevronLeft, FilterList, Check, DeleteOutline, Edit, SaveAlt, Delete, ViewColumn, ChevronRight, Remove, PhoneDisabled, PersonAddDisabled } from \"@material-ui/icons\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport api from '../../../api/api';\nimport { getCredentials } from '../../../services/authService';\nimport DetailDialog from \"./DetailDialog\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginTop: 32\n  }\n}));\n\nconst SuggestionTable = () => {\n  _s();\n\n  const [open, setOpen] = React.useState(false);\n  const [id, setId] = useState();\n\n  handleClose = () => {\n    setOpen(false);\n  };\n\n  const classes = useStyles();\n  const [suggestions, setSuggestions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    getSuggestions();\n  }, []);\n\n  const getSuggestions = async () => {\n    try {\n      setLoading(true);\n      const res = await api.post(\"/admin/getSuggestions\", null, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getCredentials()}`\n        }\n      }, {\n        timeout: 1000\n      });\n      setSuggestions(res.data.response);\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      console.log(error);\n    }\n  };\n\n  const deleteSuggestion = async suggestionName => {\n    try {\n      setLoading(true);\n      const res = await api.post(\"/admin/deleteSuggestion\", {\n        suggestionName\n      }, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getCredentials()}`\n        }\n      }, {\n        timeout: 1000\n      });\n      getSuggestions();\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      console.log(error);\n    }\n  };\n\n  const tableColumns = [{\n    title: \"Id\",\n    field: \"id\",\n    align: \"left\"\n  }, {\n    title: \"Condition Name\",\n    field: \"ConditionName\",\n    align: \"left\"\n  }, {\n    title: \"Colleges\",\n    field: \"Colleges\",\n    align: \"left\"\n  }, {\n    title: \"Improvements\",\n    field: \"Improvements\",\n    align: \"left\"\n  }, {\n    title: \"Courses\",\n    field: \"Courses\",\n    align: \"left\"\n  }, {\n    title: \"Companies\",\n    field: \"Companies\",\n    align: \"left\"\n  }, {\n    title: \"Sectors\",\n    field: \"Sectors\",\n    align: \"left\"\n  }, {\n    title: \"Average Package\",\n    field: \"AvgPackage\",\n    align: \"left\"\n  }];\n  const editable = {\n    onRowDelete: oldData => new Promise((resolve, reject) => {\n      console.log(\"OLD\", oldData);\n      deleteSuggestion(oldData.ConditionName);\n      resolve();\n    })\n  };\n  const tableOptions = {\n    search: true,\n    filtering: true,\n    actionsColumnIndex: -1,\n    headerStyle: {\n      backgroundColor: '#1a73e8',\n      color: '#FFF'\n    }\n  };\n  const tableIcons = {\n    Add: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(AddBox, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 41\n      }\n    }))),\n    Check: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Check, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 43\n      }\n    }))),\n    Clear: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 43\n      }\n    }))),\n    Delete: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(DeleteOutline, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 44\n      }\n    }))),\n    DetailPanel: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }))),\n    Edit: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Edit, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 42\n      }\n    }))),\n    Export: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(SaveAlt, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 44\n      }\n    }))),\n    Filter: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(FilterList, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 44\n      }\n    }))),\n    FirstPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(FirstPage, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 47\n      }\n    }))),\n    LastPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(LastPage, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 46\n      }\n    }))),\n    NextPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 46\n      }\n    }))),\n    PreviousPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronLeft, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }))),\n    ResetSearch: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 49\n      }\n    }))),\n    Search: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Search, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 44\n      }\n    }))),\n    SortArrow: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(ArrowDownward, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }))),\n    ThirdStateCheck: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Remove, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }\n    }))),\n    ViewColumn: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(ViewColumn, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 48\n      }\n    })))\n  };\n\n  const handleRowclick = id => {\n    setId(id);\n    setOpen(id);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }, open && /*#__PURE__*/React.createElement(DetailDialog, {\n    open: open,\n    handleClose: handleClose,\n    id: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(MaterialTable, {\n    editable: editable,\n    isLoading: loading,\n    options: tableOptions,\n    icons: tableIcons,\n    title: \"Suggestions\",\n    columns: tableColumns,\n    onRowClick: (event, rowData) => {\n      handleRowclick(rowData.id);\n    },\n    data: suggestions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }));\n};\n\n_s(SuggestionTable, \"IvC0rKWBS7ZVp1n9MOHg5/obc3c=\", false, function () {\n  return [useStyles];\n});\n\n_c = SuggestionTable;\nexport default SuggestionTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"SuggestionTable\");","map":{"version":3,"sources":["E:/Work-Files/Maxffort/Client-Projects/HSST-Madhi-Consultancy/Code/dev/edu-project/live/edu-app-admin/src/components/tables/SuggestionTable/index.js"],"names":["React","forwardRef","useEffect","useState","MaterialTable","AddBox","ArrowDownward","Search","Clear","FirstPage","LastPage","ChevronLeft","FilterList","Check","DeleteOutline","Edit","SaveAlt","Delete","ViewColumn","ChevronRight","Remove","PhoneDisabled","PersonAddDisabled","makeStyles","api","getCredentials","DetailDialog","useStyles","theme","root","marginTop","SuggestionTable","open","setOpen","id","setId","handleClose","classes","suggestions","setSuggestions","loading","setLoading","getSuggestions","res","post","headers","Authorization","timeout","data","response","error","console","log","deleteSuggestion","suggestionName","tableColumns","title","field","align","editable","onRowDelete","oldData","Promise","resolve","reject","ConditionName","tableOptions","search","filtering","actionsColumnIndex","headerStyle","backgroundColor","color","tableIcons","Add","props","ref","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","handleRowclick","event","rowData"],"mappings":"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","sourcesContent":["import React, { forwardRef, useEffect, useState } from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport { \r\n    AddBox,\r\n    ArrowDownward,\r\n    Search,\r\n    Clear,\r\n    FirstPage,\r\n    LastPage,\r\n    ChevronLeft,\r\n    FilterList,\r\n    Check,\r\n    DeleteOutline,\r\n    Edit,\r\n    SaveAlt,\r\n    Delete,\r\n    ViewColumn,\r\n    ChevronRight,\r\n    Remove,\r\n    PhoneDisabled,\r\n    PersonAddDisabled,\r\n} from \"@material-ui/icons\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport api from '../../../api/api';\r\nimport { getCredentials } from '../../../services/authService';\r\nimport DetailDialog from \"./DetailDialog\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        marginTop: 32,\r\n    },\r\n}));\r\n\r\nconst SuggestionTable = () => {\r\n    const [open, setOpen] = React.useState(false);\r\n    const [id, setId] = useState()\r\n    handleClose = ()=>{\r\n        setOpen(false)\r\n    }\r\n    const classes = useStyles();\r\n\r\n    const [suggestions, setSuggestions] = useState([]);\r\n\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        getSuggestions();\r\n    }, []);\r\n\r\n    const getSuggestions = async() => {\r\n        try {\r\n            setLoading(true);\r\n            const res = await api.post(\r\n                \"/admin/getSuggestions\",\r\n                null,\r\n                {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        Authorization: `Bearer ${getCredentials()}`,\r\n                    },\r\n                },\r\n                { timeout: 1000 }\r\n            );\r\n\r\n            setSuggestions(res.data.response);\r\n            setLoading(false);\r\n        } catch (error) {\r\n            setLoading(false);\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    const deleteSuggestion = async(suggestionName) => {\r\n        try {\r\n            setLoading(true);\r\n            const res = await api.post(\r\n                \"/admin/deleteSuggestion\",\r\n                {\r\n                    suggestionName\r\n                },\r\n                {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        Authorization: `Bearer ${getCredentials()}`,\r\n                    },\r\n                },\r\n                { timeout: 1000 }\r\n            );\r\n            getSuggestions();\r\n            setLoading(false);\r\n        } catch (error) {\r\n            setLoading(false);\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    const tableColumns = [\r\n        { title: \"Id\", field: \"id\", align: \"left\" },\r\n        { title: \"Condition Name\", field: \"ConditionName\", align: \"left\" },\r\n        { title: \"Colleges\", field: \"Colleges\", align: \"left\" },\r\n        { title: \"Improvements\", field: \"Improvements\", align: \"left\" },\r\n        { title: \"Courses\", field: \"Courses\", align: \"left\" },\r\n        { title: \"Companies\", field: \"Companies\", align: \"left\" },\r\n        { title: \"Sectors\", field: \"Sectors\", align: \"left\" },\r\n        { title: \"Average Package\", field: \"AvgPackage\", align: \"left\" },\r\n    ];\r\n\r\n    const editable = {\r\n        onRowDelete: oldData =>\r\n            new Promise((resolve, reject) => {\r\n                console.log(\"OLD\", oldData);\r\n                deleteSuggestion(oldData.ConditionName);\r\n                resolve()\r\n            })\r\n    }\r\n\r\n    const tableOptions = {\r\n        search: true,\r\n        filtering: true,\r\n        actionsColumnIndex: -1,\r\n        headerStyle: {\r\n            backgroundColor: '#1a73e8',\r\n            color: '#FFF'\r\n          }\r\n    };\r\n\r\n    const tableIcons = {\r\n        Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n        Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n        Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n        Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n        DetailPanel: forwardRef((props, ref) => (\r\n            <ChevronRight {...props} ref={ref} />\r\n        )),\r\n        Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n        Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n        Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n        FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n        LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n        NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n        PreviousPage: forwardRef((props, ref) => (\r\n            <ChevronLeft {...props} ref={ref} />\r\n        )),\r\n        ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n        Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n        SortArrow: forwardRef((props, ref) => (\r\n            <ArrowDownward {...props} ref={ref} />\r\n        )),\r\n        ThirdStateCheck: forwardRef((props, ref) => (\r\n            <Remove {...props} ref={ref} />\r\n        )),\r\n        ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n    };\r\nconst handleRowclick =(id)=>{\r\n setId(id)\r\n setOpen(id)\r\n}\r\n    return(\r\n        <div className={classes.root}>\r\n           {open && ( <DetailDialog open={open} handleClose={handleClose} id={id} />)}\r\n        <MaterialTable\r\n            editable={editable}\r\n            isLoading={loading}\r\n            options={tableOptions}\r\n            icons={tableIcons}\r\n            title=\"Suggestions\"\r\n            columns={tableColumns}\r\n            onRowClick={(event,rowData)=>{handleRowclick(rowData.id)}}\r\n            data={suggestions}>\r\n        </MaterialTable>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default SuggestionTable;"]},"metadata":{},"sourceType":"module"}