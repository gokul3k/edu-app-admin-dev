{"ast":null,"code":"var _jsxFileName = \"E:\\\\Work-Files\\\\Maxffort\\\\Client-Projects\\\\HSST-Madhi-Consultancy\\\\Code\\\\dev\\\\edu-project\\\\live\\\\edu-app-admin\\\\src\\\\pages\\\\DashboardPage\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Badge from '@material-ui/core/Badge';\nimport Box from '@material-ui/core/Box';\nimport Container from '@material-ui/core/Container';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from '@material-ui/core/Link';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport clsx from 'clsx';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { logout } from '../../actions/userActions';\nimport HeaderProfileMenu from '../../components/widgets/HeaderProfileMenu';\nimport Routing from './Routing';\nimport Sidebar from './Sidebar';\nimport useStyles from './styles';\nimport { getRoles } from '../../actions/userActions';\nimport clearStorage from '../../services/clearStorage';\nimport SimpleLoading from '../../components/loading/SimpleLoading';\n\nfunction Copyright() {\n  return /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, 'Copyright Â© ', /*#__PURE__*/React.createElement(Link, {\n    color: \"inherit\",\n    href: \"https://material-ui.com/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, \"HSST admin\"), ' ', new Date().getFullYear(), '.');\n}\n\nfunction Dashboard(props) {\n  const dispatch = useDispatch();\n  const userRole = useSelector(state => state.userRole);\n  const {\n    roles\n  } = userRole;\n  const classes = useStyles();\n  const [open, setOpen] = useState(true);\n  const [showProgress, setShowProgress] = useState(true);\n  const [status, setStatus] = useState(false);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  }; //redirect back to login page if request is unauthorised\n\n\n  useEffect(() => {\n    if (status === 401) dispatch(logout(props.history));\n  }, [status]);\n\n  const logoutClicked = () => {\n    clearStorage();\n    dispatch(logout(props.history));\n  }; // TODO\n\n\n  useEffect(() => {\n    dispatch(getRoles(setShowProgress, setStatus));\n  }, []);\n  if (showProgress) return /*#__PURE__*/React.createElement(SimpleLoading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 30\n    }\n  });else return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(AppBar, {\n    position: \"absolute\",\n    elevation: 0,\n    className: clsx(classes.appBar, open && classes.appBarShift) // style={{backgroundColor:\"#1976d2\"}}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    className: classes.toolbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h6\",\n    noWrap: true,\n    className: classes.title,\n    style: open ? {\n      marginLeft: '20px'\n    } : {\n      marginLeft: '70px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }, \"HSST Admin\"), /*#__PURE__*/React.createElement(HeaderProfileMenu, {\n    logoutClicked: logoutClicked,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Sidebar, {\n    handleDrawerClose: handleDrawerClose,\n    handleDrawerOpen: handleDrawerOpen,\n    open: open,\n    roles: roles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.appBarSpacer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"xl\",\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Routing, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    pt: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Copyright, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 29\n    }\n  })))));\n}\n\nexport default withRouter(Dashboard);","map":{"version":3,"sources":["E:/Work-Files/Maxffort/Client-Projects/HSST-Madhi-Consultancy/Code/dev/edu-project/live/edu-app-admin/src/pages/DashboardPage/index.js"],"names":["React","useState","useEffect","AppBar","Badge","Box","Container","CssBaseline","IconButton","Link","Toolbar","Typography","MenuIcon","NotificationsIcon","clsx","useDispatch","useSelector","withRouter","logout","HeaderProfileMenu","Routing","Sidebar","useStyles","getRoles","clearStorage","SimpleLoading","Copyright","Date","getFullYear","Dashboard","props","dispatch","userRole","state","roles","classes","open","setOpen","showProgress","setShowProgress","status","setStatus","handleDrawerOpen","handleDrawerClose","history","logoutClicked","root","appBar","appBarShift","toolbar","title","marginLeft","content","appBarSpacer","container"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Box from '@material-ui/core/Box';\r\nimport Container from '@material-ui/core/Container';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Link from '@material-ui/core/Link';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport clsx from 'clsx';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { logout } from '../../actions/userActions';\r\nimport HeaderProfileMenu from '../../components/widgets/HeaderProfileMenu';\r\nimport Routing from './Routing';\r\nimport Sidebar from './Sidebar';\r\nimport useStyles from './styles';\r\nimport { getRoles } from '../../actions/userActions';\r\nimport clearStorage from '../../services/clearStorage';\r\nimport SimpleLoading from '../../components/loading/SimpleLoading';\r\n\r\nfunction Copyright() {\r\n    return (\r\n        <Typography variant='body2' color='textSecondary' align='center'>\r\n            {'Copyright Â© '}\r\n            <Link color='inherit' href='https://material-ui.com/'>\r\n                HSST admin\r\n            </Link>{' '}\r\n            {new Date().getFullYear()}\r\n            {'.'}\r\n        </Typography>\r\n    );\r\n}\r\n\r\nfunction Dashboard(props) {\r\n    const dispatch = useDispatch();\r\n    const userRole = useSelector((state) => state.userRole);\r\n    const { roles } = userRole;\r\n    const classes = useStyles();\r\n    const [open, setOpen] = useState(true);\r\n    const [showProgress, setShowProgress] = useState(true);\r\n    const [status, setStatus] = useState(false);\r\n\r\n    const handleDrawerOpen = () => {\r\n        setOpen(true);\r\n    };\r\n    const handleDrawerClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    //redirect back to login page if request is unauthorised\r\n    useEffect(() => {\r\n        if (status === 401) dispatch(logout(props.history));\r\n    }, [status]);\r\n\r\n    const logoutClicked = () => {\r\n        clearStorage();\r\n        dispatch(logout(props.history));\r\n    };\r\n    // TODO\r\n    useEffect(() => {\r\n        dispatch(getRoles(setShowProgress, setStatus));\r\n    }, []);\r\n    if (showProgress) return <SimpleLoading/>;\r\n    else\r\n        return (\r\n            <div className={classes.root}>\r\n                <CssBaseline />\r\n                <AppBar\r\n                    position='absolute'\r\n                    elevation={0}\r\n                    className={clsx(\r\n                        classes.appBar,\r\n                        open && classes.appBarShift\r\n                    )}\r\n                    // style={{backgroundColor:\"#1976d2\"}}\r\n                >\r\n                    <Toolbar className={classes.toolbar}>\r\n                        {/* <IconButton\r\n            edge=\"start\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(\r\n              classes.menuButton,\r\n              open && classes.menuButtonHidden\r\n            )}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton> */}\r\n                        <Typography\r\n                            component='h1'\r\n                            variant='h6'\r\n                            noWrap\r\n                            className={classes.title}\r\n                            style={\r\n                                open\r\n                                    ? { marginLeft: '20px' }\r\n                                    : { marginLeft: '70px' }\r\n                            }\r\n                        >\r\n                            HSST Admin\r\n                        </Typography>\r\n                        {/* <IconButton style={{color:\"white\"}}>\r\n            <Badge badgeContent={4} color=\"secondary\">\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton> */}\r\n                        <HeaderProfileMenu logoutClicked={logoutClicked} />\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <Sidebar\r\n                    handleDrawerClose={handleDrawerClose}\r\n                    handleDrawerOpen={handleDrawerOpen}\r\n                    open={open}\r\n                    roles={roles}\r\n                />\r\n                <main className={classes.content}>\r\n                    <div className={classes.appBarSpacer} />\r\n                    <Container maxWidth='xl' className={classes.container}>\r\n                        <Routing />\r\n                        <Box pt={4}>\r\n                            <Copyright />\r\n                        </Box>\r\n                    </Container>\r\n                </main>\r\n            </div>\r\n        );\r\n}\r\nexport default withRouter(Dashboard);\r\n"]},"metadata":{},"sourceType":"module"}