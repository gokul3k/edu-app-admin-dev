{"ast":null,"code":"var _jsxFileName = \"E:\\\\Work-Files\\\\Maxffort\\\\Client-Projects\\\\HSST-Madhi-Consultancy\\\\Code\\\\dev\\\\edu-project\\\\live\\\\edu-app-admin\\\\src\\\\pages\\\\SigninPage\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { Paper } from \"@material-ui/core\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Link from \"@material-ui/core/Link\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport { useFormik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as Yup from \"yup\";\nimport { resetPassword, signin } from \"../../actions/userActions\";\nimport SimpleAlert from \"../../components/alerts/SimpleAlert\";\nimport AdornedButton from \"../../components/buttons/AdornedButton\";\nimport PasswordResetDialog from \"../../components/dialogs/PasswordResetDialog\";\n\nfunction Copyright() {\n  return /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 5\n    }\n  }, \"Copyright © \", /*#__PURE__*/React.createElement(Link, {\n    color: \"inherit\",\n    href: \"https://material-ui.com/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }, \"Your Website\"), \" \", new Date().getFullYear(), \".\");\n}\n\n_c = Copyright;\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\",\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  root: {\n    backgroundImage: \"url(/assets/images/tab_bg.jpg)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"#1a73e8\",\n    backgroundBlendMode: \"color-burn\",\n    height: \"100vh\",\n    width: \"100%\",\n    overflow: \"hidden\"\n  },\n  paperContainer: {\n    maxWidth: 350,\n    maxHeight: 450,\n    padding: 36\n  }\n}));\n\nfunction SignIn({\n  history\n}) {\n  _s();\n\n  const userSignin = useSelector(state => state.userSignin);\n  const {\n    loading,\n    signed\n  } = userSignin;\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [error, setError] = useState(\"\");\n  const [alert, setAlert] = useState(false);\n  const [openDialog, setOpenDialog] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpenDialog(true);\n  };\n\n  const handleClose = () => {\n    setOpenDialog(false);\n  };\n\n  const resetPasswordOnSubmit = (email, setDone, setError) => {\n    dispatch(resetPassword(email, setDone, setError));\n  };\n\n  useEffect(() => {\n    if (error) {\n      setAlert(true);\n    }\n  }, [loading]);\n  const formik = useFormik({\n    initialValues: {\n      username: \"\",\n      password: \"\"\n    },\n    validationSchema: Yup.object({\n      username: Yup.string().required(\"Required\"),\n      password: Yup.string().required(\"Required\")\n    }),\n    onSubmit: values => {\n      setError(null); // console.log(isLoggedIn===false,isLoggedIn);\n\n      setAlert(false);\n      dispatch(signin(values.username, values.password, history, setError));\n    }\n  });\n\n  const showAlert = () => {\n    if (alert) return /*#__PURE__*/React.createElement(SimpleAlert, {\n      severity: \"error\",\n      msg: error,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 23\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paperContainer,\n    elevation: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, openDialog && /*#__PURE__*/React.createElement(PasswordResetDialog, {\n    resetPasswordOnSubmit: resetPasswordOnSubmit,\n    handleClickOpen: handleClickOpen,\n    handleClose: handleClose,\n    open: openDialog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: classes.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(LockOutlinedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, \"Sign in\"), showAlert(), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    noValidate: true,\n    onSubmit: formik.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    size: \"small\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"username\",\n    disabled: loading,\n    label: \"Username\",\n    name: \"username\",\n    autoComplete: \"email\",\n    error: !!formik.errors.username && formik.touched.username,\n    helperText: formik.touched.username && !!formik.errors.username ? !!formik.errors.username : \"\",\n    autoFocus: true,\n    onChange: formik.handleChange,\n    value: formik.values.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    size: \"small\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    name: \"password\",\n    disabled: loading,\n    label: \"Password\",\n    type: \"password\",\n    error: formik.touched.password && !!formik.errors.password,\n    helperText: formik.touched.password && !!formik.errors.password ? formik.errors.password : \"\",\n    onChange: formik.handleChange,\n    id: \"password\",\n    value: formik.values.password,\n    autoComplete: \"current-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(AdornedButton, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    disabled: loading,\n    color: loading ? \"secondary\" : \"primary\" // disabled={loading}\n    ,\n    loading: loading,\n    className: classes.submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      textTransform: \"none\"\n    },\n    onClick: () => setOpenDialog(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }\n  }, \"Forgot password?\")))))));\n}\n\n_s(SignIn, \"8P9EprdIYPjVwG7oOURMXRw6kD4=\", false, function () {\n  return [useSelector, useStyles, useDispatch, useFormik];\n});\n\n_c2 = SignIn;\nexport default SignIn;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Copyright\");\n$RefreshReg$(_c2, \"SignIn\");","map":{"version":3,"sources":["E:/Work-Files/Maxffort/Client-Projects/HSST-Madhi-Consultancy/Code/dev/edu-project/live/edu-app-admin/src/pages/SigninPage/index.js"],"names":["Paper","Avatar","Button","Grid","Link","makeStyles","TextField","Typography","LockOutlinedIcon","useFormik","React","useEffect","useState","useDispatch","useSelector","Yup","resetPassword","signin","SimpleAlert","AdornedButton","PasswordResetDialog","Copyright","Date","getFullYear","useStyles","theme","paper","display","flexDirection","alignItems","avatar","margin","spacing","backgroundColor","palette","secondary","main","form","width","marginTop","submit","root","backgroundImage","justifyContent","backgroundBlendMode","height","overflow","paperContainer","maxWidth","maxHeight","padding","SignIn","history","userSignin","state","loading","signed","classes","dispatch","error","setError","alert","setAlert","openDialog","setOpenDialog","handleClickOpen","handleClose","resetPasswordOnSubmit","email","setDone","formik","initialValues","username","password","validationSchema","object","string","required","onSubmit","values","showAlert","handleSubmit","errors","touched","handleChange","textTransform"],"mappings":";;;AAAA,SAASA,KAAT,QAAsB,mBAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,SAASC,SAAT,QAA0B,QAA1B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAASC,aAAT,EAAwBC,MAAxB,QAAsC,2BAAtC;AACA,OAAOC,WAAP,MAAwB,qCAAxB;AACA,OAAOC,aAAP,MAA0B,wCAA1B;AACA,OAAOC,mBAAP,MAAgC,8CAAhC;;AACA,SAASC,SAAT,GAAqB;AACnB,sBACE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,OAApB;AAA4B,IAAA,KAAK,EAAC,eAAlC;AAAkD,IAAA,KAAK,EAAC,QAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,cADH,eAEE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAC,SAAZ;AAAsB,IAAA,IAAI,EAAC,0BAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,EAIU,GAJV,EAKG,IAAIC,IAAJ,GAAWC,WAAX,EALH,EAMG,GANH,CADF;AAUD;;KAXQF,S;AAaT,MAAMG,SAAS,GAAGnB,UAAU,CAAEoB,KAAD,KAAY;AACvCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAE,MADJ;AAELC,IAAAA,aAAa,EAAE,QAFV;AAGLC,IAAAA,UAAU,EAAE;AAHP,GADgC;AAMvCC,EAAAA,MAAM,EAAE;AACNC,IAAAA,MAAM,EAAEN,KAAK,CAACO,OAAN,CAAc,CAAd,CADF;AAENC,IAAAA,eAAe,EAAER,KAAK,CAACS,OAAN,CAAcC,SAAd,CAAwBC;AAFnC,GAN+B;AAUvCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE,MADH;AACW;AACfC,IAAAA,SAAS,EAAEd,KAAK,CAACO,OAAN,CAAc,CAAd;AAFP,GAViC;AAcvCQ,EAAAA,MAAM,EAAE;AACNT,IAAAA,MAAM,EAAEN,KAAK,CAACO,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB;AADF,GAd+B;AAiBvCS,EAAAA,IAAI,EAAE;AACJC,IAAAA,eAAe,EAAE,gCADb;AAEJf,IAAAA,OAAO,EAAC,MAFJ;AAGJE,IAAAA,UAAU,EAAC,QAHP;AAIJc,IAAAA,cAAc,EAAC,QAJX;AAKJV,IAAAA,eAAe,EAAE,SALb;AAMJW,IAAAA,mBAAmB,EAAC,YANhB;AAOJC,IAAAA,MAAM,EAAC,OAPH;AAQJP,IAAAA,KAAK,EAAC,MARF;AASJQ,IAAAA,QAAQ,EAAC;AATL,GAjBiC;AA4BvCC,EAAAA,cAAc,EAAC;AACbC,IAAAA,QAAQ,EAAC,GADI;AAEbC,IAAAA,SAAS,EAAC,GAFG;AAGbC,IAAAA,OAAO,EAAC;AAHK;AA5BwB,CAAZ,CAAD,CAA5B;;AAmCA,SAASC,MAAT,CAAgB;AAACC,EAAAA;AAAD,CAAhB,EAA2B;AAAA;;AACzB,QAAMC,UAAU,GAAGvC,WAAW,CAAEwC,KAAD,IAAWA,KAAK,CAACD,UAAlB,CAA9B;AACA,QAAM;AAAEE,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAsBH,UAA5B;AACA,QAAMI,OAAO,GAAGjC,SAAS,EAAzB;AACA,QAAMkC,QAAQ,GAAG7C,WAAW,EAA5B;AACA,QAAM,CAAC8C,KAAD,EAAQC,QAAR,IAAoBhD,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACiD,KAAD,EAAQC,QAAR,IAAoBlD,QAAQ,CAAC,KAAD,CAAlC;AAEA,QAAM,CAACmD,UAAD,EAAaC,aAAb,IAA8BpD,QAAQ,CAAC,KAAD,CAA5C;;AAEA,QAAMqD,eAAe,GAAG,MAAM;AAC5BD,IAAAA,aAAa,CAAC,IAAD,CAAb;AACD,GAFD;;AAIA,QAAME,WAAW,GAAG,MAAM;AACxBF,IAAAA,aAAa,CAAC,KAAD,CAAb;AACD,GAFD;;AAGA,QAAMG,qBAAqB,GAAG,CAACC,KAAD,EAAQC,OAAR,EAAiBT,QAAjB,KAA8B;AAC1DF,IAAAA,QAAQ,CAAC1C,aAAa,CAACoD,KAAD,EAAQC,OAAR,EAAiBT,QAAjB,CAAd,CAAR;AACD,GAFD;;AAIAjD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIgD,KAAJ,EAAW;AACTG,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;AACF,GAJQ,EAIN,CAACP,OAAD,CAJM,CAAT;AAMA,QAAMe,MAAM,GAAG7D,SAAS,CAAC;AACvB8D,IAAAA,aAAa,EAAE;AACbC,MAAAA,QAAQ,EAAE,EADG;AAEbC,MAAAA,QAAQ,EAAE;AAFG,KADQ;AAKvBC,IAAAA,gBAAgB,EAAE3D,GAAG,CAAC4D,MAAJ,CAAW;AAC3BH,MAAAA,QAAQ,EAAEzD,GAAG,CAAC6D,MAAJ,GAAaC,QAAb,CAAsB,UAAtB,CADiB;AAE3BJ,MAAAA,QAAQ,EAAE1D,GAAG,CAAC6D,MAAJ,GAAaC,QAAb,CAAsB,UAAtB;AAFiB,KAAX,CALK;AASvBC,IAAAA,QAAQ,EAAGC,MAAD,IAAY;AACpBnB,MAAAA,QAAQ,CAAC,IAAD,CAAR,CADoB,CAEpB;;AACAE,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACAJ,MAAAA,QAAQ,CAACzC,MAAM,CAAC8D,MAAM,CAACP,QAAR,EAAkBO,MAAM,CAACN,QAAzB,EAAmCrB,OAAnC,EAA4CQ,QAA5C,CAAP,CAAR;AACD;AAdsB,GAAD,CAAxB;;AAiBA,QAAMoB,SAAS,GAAG,MAAM;AACtB,QAAInB,KAAJ,EAAW,oBAAO,oBAAC,WAAD;AAAa,MAAA,QAAQ,EAAC,OAAtB;AAA8B,MAAA,GAAG,EAAEF,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACZ,GAFD;;AAIA,sBACE;AAAK,IAAA,SAAS,EAAEF,OAAO,CAAChB,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAEgB,OAAO,CAACV,cAA1B;AAA0C,IAAA,SAAS,EAAE,CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGgB,UAAU,iBACT,oBAAC,mBAAD;AACE,IAAA,qBAAqB,EAAEI,qBADzB;AAEE,IAAA,eAAe,EAAEF,eAFnB;AAGE,IAAA,WAAW,EAAEC,WAHf;AAIE,IAAA,IAAI,EAAEH,UAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAUE;AAAK,IAAA,SAAS,EAAEN,OAAO,CAAC/B,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAE+B,OAAO,CAAC3B,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAC,IAAtB;AAA2B,IAAA,OAAO,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJF,EAOGkD,SAAS,EAPZ,eAQE;AACE,IAAA,SAAS,EAAEvB,OAAO,CAACpB,IADrB;AAEE,IAAA,UAAU,MAFZ;AAGE,IAAA,QAAQ,EAAEiC,MAAM,CAACW,YAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,SAAD;AACE,IAAA,OAAO,EAAC,UADV;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,MAAM,EAAC,QAHT;AAIE,IAAA,QAAQ,MAJV;AAKE,IAAA,SAAS,MALX;AAME,IAAA,EAAE,EAAC,UANL;AAOE,IAAA,QAAQ,EAAE1B,OAPZ;AAQE,IAAA,KAAK,EAAC,UARR;AASE,IAAA,IAAI,EAAC,UATP;AAUE,IAAA,YAAY,EAAC,OAVf;AAWE,IAAA,KAAK,EAAE,CAAC,CAACe,MAAM,CAACY,MAAP,CAAcV,QAAhB,IAA4BF,MAAM,CAACa,OAAP,CAAeX,QAXpD;AAYE,IAAA,UAAU,EACRF,MAAM,CAACa,OAAP,CAAeX,QAAf,IAA2B,CAAC,CAACF,MAAM,CAACY,MAAP,CAAcV,QAA3C,GACI,CAAC,CAACF,MAAM,CAACY,MAAP,CAAcV,QADpB,GAEI,EAfR;AAiBE,IAAA,SAAS,MAjBX;AAkBE,IAAA,QAAQ,EAAEF,MAAM,CAACc,YAlBnB;AAmBE,IAAA,KAAK,EAAEd,MAAM,CAACS,MAAP,CAAcP,QAnBvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,eA0BE,oBAAC,SAAD;AACE,IAAA,OAAO,EAAC,UADV;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,MAAM,EAAC,QAHT;AAIE,IAAA,QAAQ,MAJV;AAKE,IAAA,SAAS,MALX;AAME,IAAA,IAAI,EAAC,UANP;AAOE,IAAA,QAAQ,EAAEjB,OAPZ;AAQE,IAAA,KAAK,EAAC,UARR;AASE,IAAA,IAAI,EAAC,UATP;AAUE,IAAA,KAAK,EAAEe,MAAM,CAACa,OAAP,CAAeV,QAAf,IAA2B,CAAC,CAACH,MAAM,CAACY,MAAP,CAAcT,QAVpD;AAWE,IAAA,UAAU,EACRH,MAAM,CAACa,OAAP,CAAeV,QAAf,IAA2B,CAAC,CAACH,MAAM,CAACY,MAAP,CAAcT,QAA3C,GACIH,MAAM,CAACY,MAAP,CAAcT,QADlB,GAEI,EAdR;AAgBE,IAAA,QAAQ,EAAEH,MAAM,CAACc,YAhBnB;AAiBE,IAAA,EAAE,EAAC,UAjBL;AAkBE,IAAA,KAAK,EAAEd,MAAM,CAACS,MAAP,CAAcN,QAlBvB;AAmBE,IAAA,YAAY,EAAC,kBAnBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1BF,eAmDE,oBAAC,aAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,MAFX;AAGE,IAAA,OAAO,EAAC,WAHV;AAIE,IAAA,KAAK,EAAC,SAJR;AAKE,IAAA,QAAQ,EAAElB,OALZ;AAME,IAAA,KAAK,EAAEA,OAAO,GAAG,WAAH,GAAiB,SANjC,CAOE;AAPF;AAQE,IAAA,OAAO,EAAEA,OARX;AASE,IAAA,SAAS,EAAEE,OAAO,CAACjB,MATrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAnDF,eAgEE,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAE;AAAE6C,MAAAA,aAAa,EAAE;AAAjB,KADT;AAEE,IAAA,OAAO,EAAE,MAAMrB,aAAa,CAAC,IAAD,CAF9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADF,CAhEF,CARF,CAVF,CADF,CADF;AAsGD;;GAtJQb,M;UACYrC,W,EAEHU,S,EACCX,W,EAuBFJ,S;;;MA3BR0C,M;AAwJT,eAAeA,MAAf","sourcesContent":["import { Paper } from \"@material-ui/core\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { useFormik } from \"formik\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport * as Yup from \"yup\";\r\nimport { resetPassword, signin } from \"../../actions/userActions\";\r\nimport SimpleAlert from \"../../components/alerts/SimpleAlert\";\r\nimport AdornedButton from \"../../components/buttons/AdornedButton\";\r\nimport PasswordResetDialog from \"../../components/dialogs/PasswordResetDialog\"\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  root: {\r\n    backgroundImage: \"url(/assets/images/tab_bg.jpg)\",\r\n    display:\"flex\",\r\n    alignItems:\"center\",\r\n    justifyContent:\"center\",\r\n    backgroundColor: \"#1a73e8\",\r\n    backgroundBlendMode:\"color-burn\",\r\n    height:\"100vh\",\r\n    width:\"100%\",\r\n    overflow:\"hidden\"\r\n  },\r\n  paperContainer:{\r\n    maxWidth:350,\r\n    maxHeight:450,\r\n    padding:36,\r\n  }\r\n}));\r\n\r\nfunction SignIn({history}) {\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { loading, signed } = userSignin;\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [error, setError] = useState(\"\");\r\n  const [alert, setAlert] = useState(false);\r\n\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpenDialog(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpenDialog(false);\r\n  };\r\n  const resetPasswordOnSubmit = (email, setDone, setError) => {\r\n    dispatch(resetPassword(email, setDone, setError));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      setAlert(true);\r\n    } \r\n  }, [loading]);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      username: \"\",\r\n      password: \"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      username: Yup.string().required(\"Required\"),\r\n      password: Yup.string().required(\"Required\"),\r\n    }),\r\n    onSubmit: (values) => {\r\n      setError(null);\r\n      // console.log(isLoggedIn===false,isLoggedIn);\r\n      setAlert(false)\r\n      dispatch(signin(values.username, values.password, history, setError));\r\n    },\r\n  });\r\n\r\n  const showAlert = () => {\r\n    if (alert) return <SimpleAlert severity=\"error\" msg={error} />;\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Paper className={classes.paperContainer} elevation={0}>\r\n        {openDialog && (\r\n          <PasswordResetDialog\r\n            resetPasswordOnSubmit={resetPasswordOnSubmit}\r\n            handleClickOpen={handleClickOpen}\r\n            handleClose={handleClose}\r\n            open={openDialog}\r\n          />\r\n        )}\r\n\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in \r\n          </Typography>\r\n          {showAlert()}\r\n          <form\r\n            className={classes.form}\r\n            noValidate\r\n            onSubmit={formik.handleSubmit}\r\n          >\r\n            <TextField\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"username\"\r\n              disabled={loading}\r\n              label=\"Username\"\r\n              name=\"username\"\r\n              autoComplete=\"email\"\r\n              error={!!formik.errors.username && formik.touched.username}\r\n              helperText={\r\n                formik.touched.username && !!formik.errors.username\r\n                  ? !!formik.errors.username\r\n                  : \"\"\r\n              }\r\n              autoFocus\r\n              onChange={formik.handleChange}\r\n              value={formik.values.username}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              disabled={loading}\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              error={formik.touched.password && !!formik.errors.password}\r\n              helperText={\r\n                formik.touched.password && !!formik.errors.password\r\n                  ? formik.errors.password\r\n                  : \"\"\r\n              }\r\n              onChange={formik.handleChange}\r\n              id=\"password\"\r\n              value={formik.values.password}\r\n              autoComplete=\"current-password\"\r\n            />\r\n            {/* <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          /> */}\r\n            <AdornedButton\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              disabled={loading}\r\n              color={loading ? \"secondary\" : \"primary\"}\r\n              // disabled={loading}\r\n              loading={loading}\r\n              className={classes.submit}\r\n            >\r\n              Sign In\r\n            </AdornedButton>\r\n            <Grid container>\r\n              <Grid item xs>\r\n                <Button\r\n                  style={{ textTransform: \"none\" }}\r\n                  onClick={() => setOpenDialog(true)}\r\n                >\r\n                  Forgot password?\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n        {/* <Box mt={8}>\r\n          <Copyright />\r\n        </Box> */}\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n"]},"metadata":{},"sourceType":"module"}