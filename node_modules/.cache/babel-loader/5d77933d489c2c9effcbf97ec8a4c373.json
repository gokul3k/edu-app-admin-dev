{"ast":null,"code":"var _jsxFileName = \"E:\\\\Work-Files\\\\Maxffort\\\\Client-Projects\\\\HSST-Madhi-Consultancy\\\\Code\\\\dev\\\\edu-project\\\\live\\\\edu-app-admin\\\\src\\\\pages\\\\DashboardPage\\\\Users\\\\AddUser\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport AddUserComponent from '../../../../components/AddUserComponent';\nimport api from '../../../../api/api';\nimport { getCredentials } from '../../../../services/authService';\nimport SnackBar from 'components/SnackBar';\nexport default function AddUser({\n  history\n}) {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n\n  const createUser = async values => {\n    const {\n      email,\n      name,\n      password,\n      role,\n      organization\n    } = values;\n    setLoading(true);\n    console.log('values dd', values);\n\n    try {\n      const data = await api.post('/admin/createAdminUser', {\n        email,\n        username: name,\n        name: organization,\n        password,\n        role\n      }, {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${getCredentials()}`\n        }\n      }, {\n        timeout: 1000\n      });\n      console.log(data);\n      setLoading(false);\n      history.goBack();\n    } catch (error) {\n      console.log(error.Error, 'coo');\n      setLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SnackBar, {\n    open: open,\n    message: er,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(AddUserComponent, {\n    onSubmitClicked: createUser,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }));\n}\n\n_s(AddUser, \"/Rjh5rPqCCqf0XYnTUk9ZNavw3Q=\");\n\n_c = AddUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddUser\");","map":{"version":3,"sources":["E:/Work-Files/Maxffort/Client-Projects/HSST-Madhi-Consultancy/Code/dev/edu-project/live/edu-app-admin/src/pages/DashboardPage/Users/AddUser/index.js"],"names":["React","useState","AddUserComponent","api","getCredentials","SnackBar","AddUser","history","loading","setLoading","createUser","values","email","name","password","role","organization","console","log","data","post","username","headers","Authorization","timeout","goBack","error","Error","open","er"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,gBAAP,MAA6B,yCAA7B;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,SAASC,cAAT,QAA+B,kCAA/B;AACA,OAAOC,QAAP,MAAqB,qBAArB;AAEA,eAAe,SAASC,OAAT,CAAiB;AAAEC,EAAAA;AAAF,CAAjB,EAA8B;AAAA;;AACzC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,KAAD,CAAtC;;AACA,QAAMS,UAAU,GAAG,MAAOC,MAAP,IAAkB;AACjC,UAAM;AAAEC,MAAAA,KAAF;AAASC,MAAAA,IAAT;AAAeC,MAAAA,QAAf;AAAyBC,MAAAA,IAAzB;AAA+BC,MAAAA;AAA/B,QAAgDL,MAAtD;AAEAF,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBP,MAAzB;;AACA,QAAI;AACA,YAAMQ,IAAI,GAAG,MAAMhB,GAAG,CAACiB,IAAJ,CACf,wBADe,EAEf;AAAER,QAAAA,KAAF;AAASS,QAAAA,QAAQ,EAAER,IAAnB;AAAyBA,QAAAA,IAAI,EAAEG,YAA/B;AAA6CF,QAAAA,QAA7C;AAAuDC,QAAAA;AAAvD,OAFe,EAGf;AACIO,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAELC,UAAAA,aAAa,EAAG,UAASnB,cAAc,EAAG;AAFrC;AADb,OAHe,EASf;AAAEoB,QAAAA,OAAO,EAAE;AAAX,OATe,CAAnB;AAWAP,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACAV,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,MAAAA,OAAO,CAACkB,MAAR;AACH,KAfD,CAeE,OAAOC,KAAP,EAAc;AACZT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAK,CAACC,KAAlB,EAAyB,KAAzB;AACAlB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ,GAxBD;;AA0BA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAEmB,IAAhB;AAAsB,IAAA,OAAO,EAAEC,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,gBAAD;AAAkB,IAAA,eAAe,EAAEnB,UAAnC;AAA+C,IAAA,OAAO,EAAEF,OAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ;AAMH;;GAlCuBF,O;;KAAAA,O","sourcesContent":["import React, { useState } from 'react';\r\nimport AddUserComponent from '../../../../components/AddUserComponent';\r\nimport api from '../../../../api/api';\r\nimport { getCredentials } from '../../../../services/authService';\r\nimport SnackBar from 'components/SnackBar';\r\n\r\nexport default function AddUser({ history }) {\r\n    const [loading, setLoading] = useState(false);\r\n    const createUser = async (values) => {\r\n        const { email, name, password, role, organization } = values;\r\n\r\n        setLoading(true);\r\n        console.log('values dd', values);\r\n        try {\r\n            const data = await api.post(\r\n                '/admin/createAdminUser',\r\n                { email, username: name, name: organization, password, role },\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        Authorization: `Bearer ${getCredentials()}`,\r\n                    },\r\n                },\r\n                { timeout: 1000 }\r\n            );\r\n            console.log(data);\r\n            setLoading(false);\r\n            history.goBack();\r\n        } catch (error) {\r\n            console.log(error.Error, 'coo');\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <SnackBar open={open} message={er}/>\r\n            <AddUserComponent onSubmitClicked={createUser} loading={loading} />\r\n        </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}