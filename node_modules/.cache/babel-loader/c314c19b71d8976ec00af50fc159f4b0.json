{"ast":null,"code":"var _jsxFileName = \"E:\\\\Work-Files\\\\Maxffort\\\\Client-Projects\\\\HSST-Madhi-Consultancy\\\\Code\\\\dev\\\\edu-project\\\\live\\\\edu-app-admin\\\\src\\\\pages\\\\DashboardPage\\\\Exams\\\\AddExam\\\\Three\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Button, Paper, Typography, TextField, Grid, Divider } from \"@material-ui/core\";\nimport ExcelReader from \"../../../../../components/buttons/ExcelReader\";\nimport Add from \"@material-ui/icons/Add\";\nimport QuestionDialog from \"../../../../../components/dialogs/QuestionDialog\";\nimport QuestionListItem from \"../../../../../components/list/QuestionListItem\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getExamQuestions } from \"../../../../../actions/examActions\";\nimport index from \"../../ExamDetails\";\nimport { useFormik } from \"formik\";\nimport { set } from \"js-cookie\";\nconst useStyles = makeStyles({\n  root: {\n    marginTop: 32\n  },\n  buttonContainer: {\n    marginTop: 24\n  },\n  input: {\n    display: \"none\"\n  },\n  insert: {\n    textTransform: \"none\",\n    marginLeft: 32\n  },\n  paper: {\n    padding: 8,\n    maxHeight: 600,\n    overflowY: \"auto\",\n    scrollbarWidth: \"thin\"\n  }\n});\nexport default function Three({\n  handleNext,\n  handleBack\n}) {\n  _s();\n\n  const classes = useStyles();\n  const [data, setData] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [question, setQuestion] = useState({});\n  const publishExam = useSelector(state => state.publishExam);\n  const {\n    questions\n  } = publishExam;\n  const [counts, setCounts] = useState({\n    ac: 0,\n    lc: 0,\n    tc: 0,\n    cc: 0\n  });\n  const dispatch = useDispatch([]);\n  useEffect(() => {\n    setData(questions);\n  }, []);\n  useEffect(() => {\n    data.map(item => {\n      if (item.type === 'aptitude') setCounts({ ...counts,\n        ac: counts.ac + 1\n      });\n      if (item.type === 'logical') setCounts({ ...counts,\n        lc: counts.lc + 1\n      });\n      if (item.type === 'technical') setCounts({ ...counts,\n        tc: counts.tc + 1\n      });\n      if (item.type === 'communication') setCounts({ ...counts,\n        cc: counts.cc + 1\n      });\n    });\n    console.log(\"ajsdn\", counts);\n    dispatch(getExamQuestions(data));\n  }, [data]);\n\n  const addData = values => {\n    let index = -1;\n\n    try {\n      data.map((val, i) => {\n        if (val.no == values.no) index = i;\n      });\n\n      if (index === -1) {\n        setData(data => data.concat(values));\n      } else {\n        let items = [...data];\n        items[index] = values;\n        setData(items);\n      }\n    } catch (error) {}\n  };\n\n  const onEdit = item => {\n    setQuestion(item);\n    setOpen(true);\n  };\n\n  const onDelete = item => {\n    var index = data.findIndex(x => x.no == item.no);\n    setData(data => data.filter((item, j) => index !== j));\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      lc: 0,\n      cc: 0,\n      tc: 0,\n      ac: 0\n    },\n    onSubmit: values => {\n      dispatch(getExamQuestions(data, values));\n      handleNext();\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, \"Upload or manually enter questions here.\"), /*#__PURE__*/React.createElement(Grid, {\n    direction: \"row\",\n    container: true,\n    spacing: 2,\n    alignItems: \"center\",\n    style: {\n      margin: \"16px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ExcelReader, {\n    setData: setData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    style: {\n      marginLeft: \"32px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, \"- or -\"), /*#__PURE__*/React.createElement(Button, {\n    className: classes.insert,\n    size: \"small\",\n    variant: \"outlined\",\n    onClick: () => {\n      setQuestion({\n        no: data.length + 1\n      });\n      setOpen(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Add, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }), \"Insert Question\")), /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, open && question.no && /*#__PURE__*/React.createElement(QuestionDialog, {\n    open: open,\n    setOpen: setOpen,\n    question: question,\n    setQuestion: setQuestion,\n    addData: addData,\n    index: question.no - 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }), data.length === 0 && /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle2\",\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, \"No Questions added\"), data.map((item, index) => /*#__PURE__*/React.createElement(QuestionListItem, {\n    item: item,\n    onEdit: onEdit,\n    onDelete: onDelete,\n    index: index,\n    edit: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: formik.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"space-between\",\n    style: {\n      marginTop: 32\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"ac\",\n    name: \"ac\",\n    label: \"Aptitude Qtns\",\n    variant: \"outlined\",\n    type: \"number\",\n    style: {\n      flex: \".2\",\n      marginRight: \"16px\"\n    },\n    required: true,\n    value: formik.values.ac,\n    onBlur: formik.handleBlur,\n    onChange: formik.handleChange,\n    InputProps: {\n      inputProps: {\n        min: 0,\n        max: counts.ac\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"lc\",\n    name: \"lc\",\n    label: \"Logical Qtns\",\n    variant: \"outlined\",\n    type: \"number\",\n    style: {\n      flex: \".2\",\n      marginRight: \"16px\"\n    },\n    required: true,\n    value: formik.values.lc,\n    onBlur: formik.handleBlur,\n    onChange: formik.handleChange,\n    InputProps: {\n      inputProps: {\n        min: 0,\n        max: counts.lc\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"cc\",\n    name: \"cc\",\n    label: \"Comm Qtns\",\n    variant: \"outlined\",\n    type: \"number\",\n    style: {\n      flex: \".2\",\n      marginRight: \"16px\"\n    },\n    required: true,\n    value: formik.values.cc,\n    onBlur: formik.handleBlur,\n    onChange: formik.handleChange,\n    InputProps: {\n      inputProps: {\n        min: 0,\n        max: counts.cc\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"tc\",\n    name: \"tc\",\n    label: \"Tech Qtns\",\n    variant: \"outlined\",\n    type: \"number\",\n    style: {\n      flex: \".2\",\n      marginRight: \"16px\"\n    },\n    required: true,\n    value: formik.values.tc,\n    onBlur: formik.handleBlur,\n    onChange: formik.handleChange,\n    InputProps: {\n      inputProps: {\n        min: 0,\n        max: counts.tc\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, \"*Cannot leave all question type count as 0\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.buttonContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secodary\",\n    disableElevation: true,\n    style: {\n      marginRight: \"16px\"\n    },\n    onClick: handleBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, \"Previous\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    disableElevation: true,\n    type: \"submit\",\n    disabled: data.length === 0 || formik.values.ac === 0 && formik.values.lc === 0 && formik.values.cc === 0 && formik.values.tc === 0 // onClick={() => {\n    // }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 11\n    }\n  }, \"Next\"))));\n}\n\n_s(Three, \"YkT7ABmLq2EMNLIzDMsRRCFWG1s=\", false, function () {\n  return [useStyles, useSelector, useDispatch, useFormik];\n});\n\n_c = Three;\n\nvar _c;\n\n$RefreshReg$(_c, \"Three\");","map":{"version":3,"sources":["E:/Work-Files/Maxffort/Client-Projects/HSST-Madhi-Consultancy/Code/dev/edu-project/live/edu-app-admin/src/pages/DashboardPage/Exams/AddExam/Three/index.js"],"names":["React","useState","useEffect","makeStyles","Button","Paper","Typography","TextField","Grid","Divider","ExcelReader","Add","QuestionDialog","QuestionListItem","useDispatch","useSelector","getExamQuestions","index","useFormik","set","useStyles","root","marginTop","buttonContainer","input","display","insert","textTransform","marginLeft","paper","padding","maxHeight","overflowY","scrollbarWidth","Three","handleNext","handleBack","classes","data","setData","open","setOpen","question","setQuestion","publishExam","state","questions","counts","setCounts","ac","lc","tc","cc","dispatch","map","item","type","console","log","addData","values","val","i","no","concat","items","error","onEdit","onDelete","findIndex","x","filter","j","formik","initialValues","onSubmit","margin","length","textAlign","handleSubmit","flex","marginRight","handleBlur","handleChange","inputProps","min","max"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Button,\r\n  Paper,\r\n  Typography,\r\n  TextField,\r\n  Grid,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport ExcelReader from \"../../../../../components/buttons/ExcelReader\";\r\nimport Add from \"@material-ui/icons/Add\";\r\nimport QuestionDialog from \"../../../../../components/dialogs/QuestionDialog\";\r\nimport QuestionListItem from \"../../../../../components/list/QuestionListItem\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getExamQuestions } from \"../../../../../actions/examActions\";\r\nimport index from \"../../ExamDetails\";\r\nimport { useFormik } from \"formik\";\r\nimport { set } from \"js-cookie\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    marginTop: 32,\r\n  },\r\n  buttonContainer: {\r\n    marginTop: 24,\r\n  },\r\n  input: {\r\n    display: \"none\",\r\n  },\r\n  insert: {\r\n    textTransform: \"none\",\r\n    marginLeft: 32,\r\n  },\r\n  paper: {\r\n    padding: 8,\r\n    maxHeight: 600,\r\n    overflowY: \"auto\",\r\n    scrollbarWidth: \"thin\",\r\n  },\r\n});\r\nexport default function Three({ handleNext, handleBack }) {\r\n  const classes = useStyles();\r\n  const [data, setData] = useState([]);\r\n  const [open, setOpen] = useState(false);\r\n  const [question, setQuestion] = useState({});\r\n  const publishExam = useSelector((state) => state.publishExam);\r\n  const { questions } = publishExam;\r\n  const [counts, setCounts] = useState({ac:0,lc:0,tc:0,cc:0})\r\n  const dispatch = useDispatch([]);\r\n  useEffect(() => {\r\n    setData(questions);\r\n  }, []);\r\n  useEffect(() => {\r\n    data.map(item=>{\r\n      if(item.type==='aptitude')\r\n        setCounts({...counts,ac:(counts.ac+1)})\r\n      if(item.type==='logical')\r\n        setCounts({...counts,lc:(counts.lc+1)})\r\n      if(item.type==='technical')\r\n        setCounts({...counts,tc:(counts.tc+1)})\r\n      if(item.type==='communication')\r\n        setCounts({...counts,cc:(counts.cc+1)})\r\n    })\r\n    console.log(\"ajsdn\",counts)\r\n    dispatch(getExamQuestions(data));\r\n  }, [data]);\r\n  const addData = (values) => {\r\n    let index = -1;\r\n    try {\r\n      data.map((val, i) => {\r\n        if (val.no == values.no) index = i;\r\n      });\r\n      if (index === -1) {\r\n        setData((data) => data.concat(values));\r\n      } else {\r\n        let items = [...data];\r\n        items[index] = values;\r\n        setData(items);\r\n      }\r\n    } catch (error) { }\r\n  };\r\n  const onEdit = (item) => {\r\n    setQuestion(item);\r\n    setOpen(true);\r\n  };\r\n  const onDelete = (item) => {\r\n    var index = data.findIndex((x) => x.no == item.no);\r\n    setData((data) => data.filter((item, j) => index !== j));\r\n  };\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      lc: 0,\r\n      cc: 0,\r\n      tc: 0,\r\n      ac: 0\r\n    },\r\n\r\n    onSubmit: (values) => {\r\n      dispatch(getExamQuestions(data, values));\r\n      handleNext();\r\n    },\r\n  });\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography gutterBottom variant=\"body2\">\r\n        Upload or manually enter questions here.\r\n      </Typography>\r\n      <Grid\r\n        direction=\"row\"\r\n        container\r\n        spacing={2}\r\n        alignItems=\"center\"\r\n        style={{ margin: \"16px\" }}\r\n      >\r\n        <ExcelReader setData={setData} />\r\n        <Typography variant=\"subtitle1\" style={{ marginLeft: \"32px\" }}>\r\n          - or -\r\n        </Typography>\r\n        <Button\r\n          className={classes.insert}\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          onClick={() => {\r\n            setQuestion({ no: data.length + 1 });\r\n            setOpen(true);\r\n          }}\r\n        >\r\n          <Add />\r\n          Insert Question\r\n        </Button>\r\n      </Grid>\r\n      <Paper className={classes.paper}>\r\n        {open && question.no && (\r\n          <QuestionDialog\r\n            open={open}\r\n            setOpen={setOpen}\r\n            question={question}\r\n            setQuestion={setQuestion}\r\n            addData={addData}\r\n            index={question.no - 1}\r\n          />\r\n        )}\r\n        {data.length === 0 && (\r\n          <Typography variant=\"subtitle2\" style={{ textAlign: \"center\" }}>\r\n            No Questions added\r\n          </Typography>\r\n        )}\r\n        {data.map((item, index) => (\r\n          <QuestionListItem\r\n            item={item}\r\n            onEdit={onEdit}\r\n            onDelete={onDelete}\r\n            index={index}\r\n            edit={true}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <form onSubmit={formik.handleSubmit}>\r\n        <Grid container justify=\"space-between\" style={{ marginTop: 32 }}>\r\n          <TextField\r\n            id=\"ac\"\r\n            name=\"ac\"\r\n            label=\"Aptitude Qtns\"\r\n            variant=\"outlined\"\r\n            type=\"number\"\r\n            style={{ flex: \".2\", marginRight: \"16px\" }}\r\n            required\r\n            value={formik.values.ac}\r\n            onBlur={formik.handleBlur}\r\n            onChange={formik.handleChange}\r\n            InputProps={{ inputProps: { min: 0, max: counts.ac } }}\r\n          />\r\n          <TextField\r\n            id=\"lc\"\r\n            name=\"lc\"\r\n            label=\"Logical Qtns\"\r\n            variant=\"outlined\"\r\n            type=\"number\"\r\n            style={{ flex: \".2\", marginRight: \"16px\" }}\r\n            required\r\n            value={formik.values.lc}\r\n            onBlur={formik.handleBlur}\r\n            onChange={formik.handleChange}\r\n            InputProps={{ inputProps: { min: 0, max: counts.lc } }}\r\n          />\r\n          <TextField\r\n            id=\"cc\"\r\n            name=\"cc\"\r\n            label=\"Comm Qtns\"\r\n            variant=\"outlined\"\r\n            type=\"number\"\r\n            style={{ flex: \".2\", marginRight: \"16px\" }}\r\n            required\r\n            value={formik.values.cc}\r\n            onBlur={formik.handleBlur}\r\n            onChange={formik.handleChange}\r\n            InputProps={{ inputProps: { min: 0, max: counts.cc } }}\r\n          />\r\n          <TextField\r\n            id=\"tc\"\r\n            name=\"tc\"\r\n            label=\"Tech Qtns\"\r\n            variant=\"outlined\"\r\n            type=\"number\"\r\n            style={{ flex: \".2\", marginRight: \"16px\" }}\r\n            required\r\n            value={formik.values.tc}\r\n            onBlur={formik.handleBlur}\r\n            onChange={formik.handleChange}\r\n            InputProps={{ inputProps: { min: 0, max: counts.tc } }}\r\n          />\r\n        </Grid>\r\n        <Typography variant=\"subtitle1\">*Cannot leave all question type count as 0</Typography>\r\n        <div className={classes.buttonContainer}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"secodary\"\r\n            disableElevation\r\n            style={{ marginRight: \"16px\" }}\r\n            onClick={handleBack}\r\n          >\r\n            Previous\r\n        </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disableElevation\r\n            type=\"submit\"\r\n            disabled={data.length === 0 || (formik.values.ac === 0 && formik.values.lc === 0 && formik.values.cc === 0 && formik.values.tc === 0)}\r\n          // onClick={() => {\r\n\r\n          // }}\r\n          >\r\n            Next\r\n        </Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}