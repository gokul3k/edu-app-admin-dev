{"ast":null,"code":"var _jsxFileName = \"E:\\\\Work-Files\\\\Maxffort\\\\Client-Projects\\\\HSST-Madhi-Consultancy\\\\Code\\\\dev\\\\edu-project\\\\live\\\\edu-app-admin\\\\src\\\\components\\\\tables\\\\AdTable\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { forwardRef, useEffect, useState } from \"react\";\nimport MaterialTable from \"material-table\";\nimport { AddBox, ArrowDownward, Search, Clear, FirstPage, LastPage, ChevronLeft, FilterList, Check, DeleteOutline, Edit, SaveAlt, Delete, ViewColumn, ChevronRight, Remove, PhoneDisabled, PersonAddDisabled, PersonAdd } from \"@material-ui/icons\";\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllAds, deleteAd } from '../../../actions/adActions';\nimport AssignStudents from './AssignStudents';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginTop: 32\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff'\n  }\n}));\n\nconst AdTable = props => {\n  _s();\n\n  const classes = useStyles();\n  const ads = useSelector(state => state.ads);\n  const {\n    loading,\n    data\n  } = ads;\n  const dispatch = useDispatch();\n  const [open, setOpen] = useState(false);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    dispatch(getAllAds());\n  }, []);\n  const tableColumns = [{\n    title: \"Id\",\n    field: \"id\",\n    align: \"left\"\n  }, {\n    title: \"Ad Name\",\n    field: \"AdName\",\n    align: \"left\"\n  }, {\n    title: \"Ad Type\",\n    field: \"AdType\",\n    align: \"left\"\n  }, {\n    title: \"Ad Zone\",\n    field: \"AdZone\",\n    align: \"left\"\n  }];\n  const editable = {\n    onRowDelete: oldData => new Promise((resolve, reject) => {\n      console.log(\"OLD\", oldData);\n      dispatch(deleteAd(oldData.id));\n      resolve();\n    })\n  };\n  const tableOptions = {\n    search: true,\n    filtering: true,\n    actionsColumnIndex: -1,\n    headerStyle: {\n      backgroundColor: '#1a73e8',\n      color: '#FFF'\n    }\n  };\n  const tableIcons = {\n    Add: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(AddBox, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 41\n      }\n    }))),\n    Check: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Check, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 43\n      }\n    }))),\n    Clear: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 43\n      }\n    }))),\n    Delete: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(DeleteOutline, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 44\n      }\n    }))),\n    DetailPanel: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }))),\n    Edit: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Edit, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 42\n      }\n    }))),\n    Export: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(SaveAlt, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 44\n      }\n    }))),\n    Filter: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(FilterList, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 44\n      }\n    }))),\n    FirstPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(FirstPage, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 47\n      }\n    }))),\n    LastPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(LastPage, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 46\n      }\n    }))),\n    NextPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 46\n      }\n    }))),\n    PreviousPage: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronLeft, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }))),\n    ResetSearch: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 49\n      }\n    }))),\n    Search: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Search, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 44\n      }\n    }))),\n    SortArrow: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(ArrowDownward, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }))),\n    ThirdStateCheck: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(Remove, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }))),\n    ViewColumn: /*#__PURE__*/forwardRef((props, ref) => /*#__PURE__*/React.createElement(ViewColumn, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 48\n      }\n    })))\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, loading && /*#__PURE__*/React.createElement(Backdrop, {\n    className: classes.backdrop,\n    open: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(MaterialTable, {\n    editable: editable,\n    isLoading: false,\n    options: tableOptions,\n    icons: tableIcons,\n    title: \"Advertisements\",\n    columns: tableColumns,\n    actions: [{\n      icon: 'edit',\n      tooltip: 'Assign Students',\n      onClick: (event, rowData) => {\n        open && /*#__PURE__*/React.createElement(AssignStudents, {\n          id: 0,\n          open: open,\n          handleClose: handleClose,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 65\n          }\n        });\n      }\n    }],\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }));\n};\n\n_s(AdTable, \"9cmkNkA4ec2eCrt0bF1T9myHnQk=\", false, function () {\n  return [useStyles, useSelector, useDispatch];\n});\n\n_c = AdTable;\nexport default AdTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdTable\");","map":{"version":3,"sources":["E:/Work-Files/Maxffort/Client-Projects/HSST-Madhi-Consultancy/Code/dev/edu-project/live/edu-app-admin/src/components/tables/AdTable/index.js"],"names":["React","forwardRef","useEffect","useState","MaterialTable","AddBox","ArrowDownward","Search","Clear","FirstPage","LastPage","ChevronLeft","FilterList","Check","DeleteOutline","Edit","SaveAlt","Delete","ViewColumn","ChevronRight","Remove","PhoneDisabled","PersonAddDisabled","PersonAdd","Backdrop","CircularProgress","makeStyles","useDispatch","useSelector","getAllAds","deleteAd","AssignStudents","useStyles","theme","root","marginTop","backdrop","zIndex","drawer","color","AdTable","props","classes","ads","state","loading","data","dispatch","open","setOpen","handleClose","tableColumns","title","field","align","editable","onRowDelete","oldData","Promise","resolve","reject","console","log","id","tableOptions","search","filtering","actionsColumnIndex","headerStyle","backgroundColor","tableIcons","Add","ref","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","icon","tooltip","onClick","event","rowData"],"mappings":"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","sourcesContent":["import React, { forwardRef, useEffect, useState } from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport {\r\n    AddBox,\r\n    ArrowDownward,\r\n    Search,\r\n    Clear,\r\n    FirstPage,\r\n    LastPage,\r\n    ChevronLeft,\r\n    FilterList,\r\n    Check,\r\n    DeleteOutline,\r\n    Edit,\r\n    SaveAlt,\r\n    Delete,\r\n    ViewColumn,\r\n    ChevronRight,\r\n    Remove,\r\n    PhoneDisabled,\r\n    PersonAddDisabled,\r\n    PersonAdd\r\n} from \"@material-ui/icons\";\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAllAds, deleteAd } from '../../../actions/adActions';\r\nimport AssignStudents from './AssignStudents'\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        marginTop: 32,\r\n    },\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n    },\r\n}));\r\n\r\nconst AdTable = (props) => {\r\n    const classes = useStyles();\r\n    const ads = useSelector((state) => state.ads);\r\n    const { loading, data } = ads;\r\n    const dispatch = useDispatch();\r\n    const [open, setOpen] = useState(false)\r\n    const handleClose = () => {\r\n        setOpen(false)\r\n    }\r\n    useEffect(() => {\r\n        dispatch(getAllAds());\r\n    }, []);\r\n\r\n\r\n    const tableColumns = [\r\n        { title: \"Id\", field: \"id\", align: \"left\" },\r\n        { title: \"Ad Name\", field: \"AdName\", align: \"left\" },\r\n        { title: \"Ad Type\", field: \"AdType\", align: \"left\" },\r\n        { title: \"Ad Zone\", field: \"AdZone\", align: \"left\" },\r\n    ];\r\n\r\n    const editable = {\r\n        onRowDelete: oldData =>\r\n            new Promise((resolve, reject) => {\r\n                console.log(\"OLD\", oldData);\r\n                dispatch(deleteAd(oldData.id));\r\n                resolve()\r\n            })\r\n    }\r\n\r\n    const tableOptions = {\r\n        search: true,\r\n        filtering: true,\r\n        actionsColumnIndex: -1,\r\n        headerStyle: {\r\n            backgroundColor: '#1a73e8',\r\n            color: '#FFF'\r\n        }\r\n    };\r\n\r\n    const tableIcons = {\r\n        Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n        Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n        Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n        Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n        DetailPanel: forwardRef((props, ref) => (\r\n            <ChevronRight {...props} ref={ref} />\r\n        )),\r\n        Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n        Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n        Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n        FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n        LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n        NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n        PreviousPage: forwardRef((props, ref) => (\r\n            <ChevronLeft {...props} ref={ref} />\r\n        )),\r\n        ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n        Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n        SortArrow: forwardRef((props, ref) => (\r\n            <ArrowDownward {...props} ref={ref} />\r\n        )),\r\n        ThirdStateCheck: forwardRef((props, ref) => (\r\n            <Remove {...props} ref={ref} />\r\n        )),\r\n        ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n\r\n            {loading && (\r\n                <Backdrop className={classes.backdrop} open={loading} >\r\n                    <CircularProgress color=\"primary\" />\r\n                </Backdrop>\r\n            )}\r\n            <MaterialTable\r\n                editable={editable}\r\n                isLoading={false}\r\n                options={tableOptions}\r\n                icons={tableIcons}\r\n                title=\"Advertisements\"\r\n                columns={tableColumns}\r\n                actions={[\r\n                    {\r\n                        icon: 'edit',\r\n                        tooltip: 'Assign Students',\r\n                        onClick: (event, rowData) => { open && (<AssignStudents id={0} open={open} handleClose={handleClose} />) }\r\n\r\n                    }\r\n                ]}\r\n                data={data}>\r\n            </MaterialTable>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdTable;"]},"metadata":{},"sourceType":"module"}