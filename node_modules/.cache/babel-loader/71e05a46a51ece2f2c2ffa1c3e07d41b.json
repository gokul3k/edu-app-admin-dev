{"ast":null,"code":"var _jsxFileName = \"E:\\\\Work-Files\\\\Maxffort\\\\Client-Projects\\\\HSST-Madhi-Consultancy\\\\Code\\\\dev\\\\edu-project\\\\live\\\\edu-app-admin\\\\src\\\\components\\\\tables\\\\StudentTable\\\\index.js\";\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { forwardRef, useEffect, useState } from \"react\";\nimport MaterialTable from \"material-table\";\nimport api from \"../../../api/api\";\nimport { getCredentials } from \"../../../services/authService\";\nimport { getAllExams } from \"../../../actions/examActions\";\nimport { setSelectedStudents } from \"../../../actions/studentActions\";\nimport { AddBox, ArrowDownward, Search, Clear, FirstPage, LastPage, ChevronLeft, FilterList, Check, DeleteOutline, Edit, SaveAlt, Delete, ViewColumn, ChevronRight, Remove, PhoneDisabled, PersonAddDisabled, Refresh } from \"@material-ui/icons\";\nimport { icon } from \"@fortawesome/fontawesome-svg-core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginTop: 32\n  }\n}));\n\nconst StudentTable = ({\n  history,\n  setSelected\n}) => {\n  const tableRef = React.createRef();\n  const classes = useStyles(); // const selectedStudents = useSelector((state) => state.selectedStudents);\n\n  const dispatch = useDispatch(); // useEffect(() => {\n  //   dispatch(getAllExams());\n  // }, []);\n\n  const tableColumns = [{\n    title: 'Avatar',\n    field: 'avatar',\n    filtering: false,\n    sorting: false,\n    render: rowData => /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        height: 36,\n        borderRadius: '50%'\n      },\n      src: rowData.avatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    })\n  }, {\n    title: \"Id\",\n    field: \"id\",\n    align: \"left\"\n  }, {\n    title: \"Name\",\n    field: \"FullName\",\n    align: \"left\"\n  }, {\n    title: \"Email\",\n    field: \"Email\",\n    align: \"left\"\n  } // { title: \"HSST score\", field: \"score\", align: \"left\" },\n  // { title: \"Category\", field: \"Category\", align: \"left\" ,lookup:{active:\"active\",inactive:'inactive'}},\n  ];\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const tableOptions = {\n    search: true,\n    selection: true,\n    filtering: true\n  };\n  const actionsOptions = [{\n    icon: () => /*#__PURE__*/React.createElement(Refresh, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }),\n    tooltip: 'Refresh Data',\n    isFreeAction: true,\n    exportButton: true,\n    // onClick: () => tableRef.current && tableRef.current.onQueryChange,\n    onClick: () => remoteData(null)\n  }];\n  const tableIcons = {\n    Add: forwardRef((props, ref) => /*#__PURE__*/React.createElement(AddBox, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 37\n      }\n    }))),\n    Check: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Check, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 39\n      }\n    }))),\n    Clear: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 39\n      }\n    }))),\n    Delete: forwardRef((props, ref) => /*#__PURE__*/React.createElement(DeleteOutline, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 40\n      }\n    }))),\n    DetailPanel: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }))),\n    Edit: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Edit, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 38\n      }\n    }))),\n    Export: forwardRef((props, ref) => /*#__PURE__*/React.createElement(SaveAlt, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 40\n      }\n    }))),\n    Filter: forwardRef((props, ref) => /*#__PURE__*/React.createElement(FilterList, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 40\n      }\n    }))),\n    FirstPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(FirstPage, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 43\n      }\n    }))),\n    LastPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(LastPage, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 42\n      }\n    }))),\n    NextPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 42\n      }\n    }))),\n    PreviousPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronLeft, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }))),\n    ResetSearch: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 45\n      }\n    }))),\n    Search: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Search, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 40\n      }\n    }))),\n    SortArrow: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ArrowDownward, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }))),\n    ThirdStateCheck: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Remove, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }))),\n    ViewColumn: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ViewColumn, Object.assign({}, props, {\n      ref: ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 44\n      }\n    })))\n  };\n\n  const remoteData = async () => {\n    setLoading(true); // 1\n\n    api.post('/admin/getStudents', {}, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${getCredentials()}`\n      }\n    }, {\n      timeout: 1000\n    }).then(res => {\n      console.log(\"res\", res);\n      setData(res.data.response);\n      setLoading(false);\n    }).catch(err => {\n      console.log(err);\n      setLoading(false);\n    });\n  };\n\n  useEffect(() => {\n    remoteData();\n    return () => {};\n  }, []);\n\n  const searchHandler = text => {\n    // 6\n    // setSearchText(text);\n    tableRef.current.onSearchChange(text); // 7\n  };\n\n  const handleRowclick = id => {\n    history.push('/app/students/details/' + id);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MaterialTable, {\n    options: tableOptions,\n    icons: tableIcons,\n    title: \"Students\",\n    columns: tableColumns,\n    data: data,\n    isLoading: loading,\n    actions: actionsOptions,\n    onSelectionChange: rows => dispatch(setSelectedStudents(rows)),\n    onRowClick: (event, rowData) => {\n      console.log(rowData.id, \"r\");\n      handleRowclick(rowData.id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default StudentTable;","map":{"version":3,"sources":["E:/Work-Files/Maxffort/Client-Projects/HSST-Madhi-Consultancy/Code/dev/edu-project/live/edu-app-admin/src/components/tables/StudentTable/index.js"],"names":["React","forwardRef","useEffect","useState","MaterialTable","api","getCredentials","getAllExams","setSelectedStudents","AddBox","ArrowDownward","Search","Clear","FirstPage","LastPage","ChevronLeft","FilterList","Check","DeleteOutline","Edit","SaveAlt","Delete","ViewColumn","ChevronRight","Remove","PhoneDisabled","PersonAddDisabled","Refresh","icon","makeStyles","useDispatch","useSelector","useStyles","theme","root","marginTop","StudentTable","history","setSelected","tableRef","createRef","classes","dispatch","tableColumns","title","field","filtering","sorting","render","rowData","height","borderRadius","avatar","align","data","setData","loading","setLoading","tableOptions","search","selection","actionsOptions","tooltip","isFreeAction","exportButton","onClick","remoteData","tableIcons","Add","props","ref","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","post","headers","Authorization","timeout","then","res","console","log","response","catch","err","searchHandler","text","current","onSearchChange","handleRowclick","id","push","rows","event"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { forwardRef, useEffect,useState } from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport api from \"../../../api/api\"; \r\nimport { getCredentials } from \"../../../services/authService\";\r\nimport { getAllExams } from \"../../../actions/examActions\";\r\nimport { setSelectedStudents } from \"../../../actions/studentActions\";\r\nimport {\r\n  AddBox,\r\n  ArrowDownward,\r\n  Search,\r\n  Clear,\r\n  FirstPage,\r\n  LastPage,\r\n  ChevronLeft,\r\n  FilterList,\r\n  Check,\r\n  DeleteOutline,\r\n  Edit,\r\n  SaveAlt,\r\n  Delete,\r\n  ViewColumn,\r\n  ChevronRight,\r\n  Remove,\r\n  PhoneDisabled,\r\n  PersonAddDisabled,\r\n  Refresh\r\n} from \"@material-ui/icons\";\r\nimport { icon } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginTop: 32,\r\n  },\r\n}));\r\nconst StudentTable = ({history,setSelected}) => {\r\n  const tableRef = React.createRef();\r\n\r\n  const classes = useStyles();\r\n    // const selectedStudents = useSelector((state) => state.selectedStudents);\r\n  const dispatch = useDispatch();\r\n\r\n  // useEffect(() => {\r\n  //   dispatch(getAllExams());\r\n  // }, []);\r\n\r\n  const tableColumns = [\r\n    { title: 'Avatar',field: 'avatar', filtering: false,sorting: false,\r\n      render: rowData => (\r\n        <img style={{ height: 36, borderRadius: '50%' }} src={rowData.avatar}/>\r\n    ),},\r\n    { title: \"Id\", field: \"id\", align: \"left\" },\r\n    { title: \"Name\", field: \"FullName\", align: \"left\" },\r\n    { title: \"Email\", field: \"Email\", align: \"left\" },\r\n    // { title: \"HSST score\", field: \"score\", align: \"left\" },\r\n    // { title: \"Category\", field: \"Category\", align: \"left\" ,lookup:{active:\"active\",inactive:'inactive'}},\r\n  ];\r\n  const [data, setData] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const tableOptions = {\r\n    search: true,\r\n    selection: true,\r\n    filtering: true,\r\n  };\r\n\r\n  const actionsOptions=[\r\n    {\r\n      icon: ()=><Refresh />,\r\n      tooltip: 'Refresh Data',\r\n      isFreeAction: true,\r\n      exportButton: true,\r\n      // onClick: () => tableRef.current && tableRef.current.onQueryChange,\r\n      onClick:()=>remoteData(null)\r\n    }\r\n  ]\r\n \r\n  const tableIcons = {\r\n    Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n    Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n    Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n    Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n    DetailPanel: forwardRef((props, ref) => (\r\n      <ChevronRight {...props} ref={ref} />\r\n    )),\r\n    Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n    Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n    Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n    FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n    LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n    NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n    PreviousPage: forwardRef((props, ref) => (\r\n      <ChevronLeft {...props} ref={ref} />\r\n    )),\r\n    ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n    Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n    SortArrow: forwardRef((props, ref) => (\r\n      <ArrowDownward {...props} ref={ref} />\r\n    )),\r\n    ThirdStateCheck: forwardRef((props, ref) => (\r\n      <Remove {...props} ref={ref} />\r\n    )),\r\n    ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n  };\r\n  const remoteData =async ()=>{\r\n    setLoading(true)            // 1\r\n      api.post(\r\n            '/admin/getStudents',\r\n            {},\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Bearer ${getCredentials()}`,\r\n                },\r\n            },\r\n            {timeout:1000}\r\n        ).then((res)=>{\r\n          console.log(\"res\",res)\r\n          setData(res.data.response)\r\n          setLoading(false)\r\n          })\r\n        .catch((err)=>{console.log(err);setLoading(false)})\r\n       \r\n  \r\n }\r\n useEffect(() => {\r\n   remoteData()\r\n   return () => {\r\n     \r\n   }\r\n }, [])\r\n const searchHandler = (text)=>{            // 6\r\n    // setSearchText(text);\r\n    tableRef.current.onSearchChange(text);  // 7\r\n }\r\n\r\n  const handleRowclick=(id)=>{\r\n    history.push('/app/students/details/'+id)  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <MaterialTable\r\n        options={tableOptions}\r\n        icons={tableIcons}\r\n        title=\"Students\"\r\n        columns={tableColumns}\r\n        data={data}\r\n        isLoading={loading}\r\n        actions={actionsOptions}\r\n        onSelectionChange={(rows) => dispatch(setSelectedStudents(rows))}\r\n        onRowClick={(event,rowData)=>{console.log(rowData.id,\"r\");handleRowclick(rowData.id)}}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StudentTable;\r\n"]},"metadata":{},"sourceType":"module"}