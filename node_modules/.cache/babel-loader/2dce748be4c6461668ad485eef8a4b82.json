{"ast":null,"code":"var _jsxFileName = \"E:\\\\Work-Files\\\\Maxffort\\\\Client-Projects\\\\HSST-Madhi-Consultancy\\\\Code\\\\dev\\\\edu-project\\\\live\\\\edu-app-admin\\\\src\\\\pages\\\\DashboardPage\\\\Settings\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Paper, Grid, Typography, Button } from \"@material-ui/core\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport AnnouncementIcon from '@material-ui/icons/Announcement';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport Collapse from '@material-ui/core/Collapse';\nimport TextField from '@material-ui/core/TextField';\nimport api from '../../../api/api';\nimport { getCredentials } from '../../../services/authService';\nconst useStyles = makeStyles(theme => ({\n  container: {\n    padding: 24,\n    display: \"flex\",\n    flexDirection: \"column\",\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  title: {\n    fontSize: 24,\n    color: \"#023e8a\",\n    margin: 16,\n    fontWeight: \"bold\"\n  },\n  paper: {\n    minHeight: 400\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n    marginTop: 24,\n    paddingRight: theme.spacing(4)\n  },\n  textField: {\n    width: \"100%\"\n  },\n  button: {\n    marginTop: 16\n  }\n}));\nexport default function Settings(props) {\n  _s();\n\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [defaultAbout, setDefaultAbout] = useState('');\n  const [buttonText, setButtonText] = useState('Submit');\n  useEffect(() => {\n    getDefaultAboutUs();\n  }, []);\n  const formik = useFormik({\n    initialValues: {\n      aboutUs: defaultAbout\n    },\n    validationSchema: Yup.object({\n      aboutUs: Yup.string().required('This field is required')\n    }),\n    onSubmit: values => {\n      console.log(values);\n      setDefaultAboutUs(values.aboutUs);\n    },\n    enableReinitialize: true\n  });\n\n  const handleSuggestionClick = () => {\n    props.history.push(\"/app/suggestion\");\n  };\n\n  const handleAboutClick = () => {\n    setOpen(!open);\n  };\n\n  const setDefaultAboutUs = async aboutUs => {\n    try {\n      setButtonText('Saving...');\n      const res = await api.post(\"/admin/setDefaultAboutUs\", {\n        aboutUs\n      }, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getCredentials()}`\n        }\n      }, {\n        timeout: 1000\n      });\n      getDefaultAboutUs();\n      setButtonText('Saved');\n      setTimeout(() => {\n        setButtonText('Submit');\n      }, 1000);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getDefaultAboutUs = async () => {\n    try {\n      const res = await api.post(\"/admin/getDefaultAboutUs\", null, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getCredentials()}`\n        }\n      }, {\n        timeout: 1000\n      });\n      console.log(\"RESPON \", res.data);\n\n      if (res.data.response.length > 0) {\n        setDefaultAbout(res.data.response[0].About);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"column\",\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, \"Settings\"), /*#__PURE__*/React.createElement(List, {\n    component: \"nav\",\n    \"aria-label\": \"main mailbox folders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    onClick: handleSuggestionClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(AnnouncementIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: \"Suggestions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    onClick: handleAboutClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(DescriptionIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: \"Set About\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 29\n    }\n  }), open ? /*#__PURE__*/React.createElement(ExpandLess, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 37\n    }\n  }) : /*#__PURE__*/React.createElement(ExpandMore, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 54\n    }\n  })), /*#__PURE__*/React.createElement(Collapse, {\n    in: open,\n    timeout: \"auto\",\n    unmountOnExit: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    noValidate: true,\n    className: classes.nested,\n    onSubmit: formik.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    error: !!formik.errors.aboutUs && formik.touched.aboutUs,\n    helperText: !!formik.errors.aboutUs && formik.touched.aboutUs ? formik.errors.aboutUs : '',\n    className: classes.textField,\n    id: \"filled-multiline-static\",\n    label: \"Default About\",\n    multiline: true,\n    name: \"aboutUs\",\n    rows: 4,\n    defaultValue: defaultAbout,\n    variant: \"outlined\",\n    onChange: formik.handleChange,\n    value: formik.values.aboutUs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: classes.button,\n    variant: \"outlined\",\n    color: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 33\n    }\n  }, buttonText)))))));\n}\n\n_s(Settings, \"tXx9lrIqOhYY+PsDoT13Vw99NGw=\", false, function () {\n  return [useStyles, useFormik];\n});\n\n_c = Settings;\n\nvar _c;\n\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"sources":["E:/Work-Files/Maxffort/Client-Projects/HSST-Madhi-Consultancy/Code/dev/edu-project/live/edu-app-admin/src/pages/DashboardPage/Settings/index.js"],"names":["React","useState","useEffect","useFormik","Yup","makeStyles","Paper","Grid","Typography","Button","List","ListItem","ListItemIcon","ListItemText","Divider","AnnouncementIcon","DescriptionIcon","ExpandLess","ExpandMore","Collapse","TextField","api","getCredentials","useStyles","theme","container","padding","display","flexDirection","flex","alignItems","justifyContent","title","fontSize","color","margin","fontWeight","paper","minHeight","nested","paddingLeft","spacing","marginTop","paddingRight","textField","width","button","Settings","props","classes","open","setOpen","defaultAbout","setDefaultAbout","buttonText","setButtonText","getDefaultAboutUs","formik","initialValues","aboutUs","validationSchema","object","string","required","onSubmit","values","console","log","setDefaultAboutUs","enableReinitialize","handleSuggestionClick","history","push","handleAboutClick","res","post","headers","Authorization","timeout","setTimeout","error","data","response","length","About","handleSubmit","errors","touched","handleChange"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n    Paper,\r\n    Grid,\r\n    Typography,\r\n    Button\r\n} from \"@material-ui/core\";\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport AnnouncementIcon from '@material-ui/icons/Announcement';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport api from '../../../api/api';\r\nimport { getCredentials } from '../../../services/authService';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        padding: 24,\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        flex: 1,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\"\r\n    },\r\n    title: {\r\n        fontSize: 24,\r\n        color: \"#023e8a\",\r\n        margin: 16,\r\n        fontWeight: \"bold\"\r\n    },\r\n    paper: {\r\n        minHeight: 400\r\n    },\r\n    nested: {\r\n        paddingLeft: theme.spacing(4),\r\n        marginTop: 24,\r\n        paddingRight: theme.spacing(4)\r\n    },\r\n    textField: {\r\n        width: \"100%\"\r\n    },\r\n    button: {\r\n        marginTop: 16\r\n    }\r\n}));\r\n\r\nexport default function Settings(props) {\r\n\r\n    const classes = useStyles();\r\n    const [open, setOpen] = useState(false);\r\n    const [defaultAbout, setDefaultAbout] = useState('');\r\n    const [buttonText, setButtonText] = useState('Submit');\r\n\r\n    useEffect(() => {\r\n        getDefaultAboutUs();\r\n    }, [])\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            aboutUs: defaultAbout\r\n        },\r\n        validationSchema: Yup.object({\r\n            aboutUs: Yup.string().required('This field is required')\r\n        }),\r\n        onSubmit: (values) => {\r\n            console.log(values);\r\n            setDefaultAboutUs(values.aboutUs);\r\n        },\r\n        enableReinitialize: true\r\n    });\r\n\r\n    const handleSuggestionClick = () => {\r\n        props.history.push(\"/app/suggestion\");\r\n    }\r\n\r\n    const handleAboutClick = () => {\r\n        setOpen(!open);\r\n    }\r\n\r\n    const setDefaultAboutUs = async (aboutUs) => {\r\n        try {\r\n            setButtonText('Saving...');\r\n            const res = await api.post(\r\n                \"/admin/setDefaultAboutUs\",\r\n                {aboutUs},\r\n                {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        Authorization: `Bearer ${getCredentials()}`,\r\n                    },\r\n                },\r\n                { timeout: 1000 }\r\n            );\r\n\r\n            getDefaultAboutUs();\r\n            setButtonText('Saved');\r\n            setTimeout(() => {\r\n                setButtonText('Submit');\r\n            }, 1000);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    const getDefaultAboutUs = async () => {\r\n        try {\r\n            const res = await api.post(\r\n                \"/admin/getDefaultAboutUs\",\r\n                null,\r\n                {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        Authorization: `Bearer ${getCredentials()}`,\r\n                    },\r\n                },\r\n                { timeout: 1000 }\r\n            );\r\n            console.log(\"RESPON \", res.data);\r\n            if(res.data.response.length > 0){\r\n                setDefaultAbout(res.data.response[0].About);\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <Grid\r\n                container\r\n                direction=\"column\"\r\n                justify=\"center\"\r\n            >\r\n                <Paper className={classes.paper}>\r\n                    <Typography className={classes.title}>Settings</Typography>\r\n                    <List component=\"nav\" aria-label=\"main mailbox folders\">\r\n                        <ListItem button onClick={handleSuggestionClick}>\r\n                            <ListItemIcon>\r\n                                <AnnouncementIcon />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"Suggestions\" />\r\n                        </ListItem>\r\n                        <Divider />\r\n                        <ListItem button onClick={handleAboutClick}>\r\n                            <ListItemIcon>\r\n                                <DescriptionIcon />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"Set About\" />\r\n                            {open ? <ExpandLess /> : <ExpandMore />}\r\n                        </ListItem>\r\n                        <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                            <form noValidate className={classes.nested} onSubmit={formik.handleSubmit}>\r\n                                <TextField\r\n                                    error={!!formik.errors.aboutUs && formik.touched.aboutUs}\r\n                                    helperText={\r\n                                        !!formik.errors.aboutUs && formik.touched.aboutUs\r\n                                            ? formik.errors.aboutUs\r\n                                            : ''\r\n                                    }\r\n                                    className={classes.textField}\r\n                                    id=\"filled-multiline-static\"\r\n                                    label=\"Default About\"\r\n                                    multiline\r\n                                    name=\"aboutUs\"\r\n                                    rows={4}\r\n                                    defaultValue={defaultAbout}\r\n                                    variant=\"outlined\"\r\n                                    onChange={formik.handleChange}\r\n                                    value={formik.values.aboutUs}\r\n                                />\r\n                                <Button\r\n                                    className={classes.button}\r\n                                    variant=\"outlined\"\r\n                                    color=\"primary\"\r\n                                    type=\"submit\"\r\n                                >\r\n                                    {buttonText}\r\n                                </Button>\r\n                            </form>\r\n                        </Collapse>\r\n                    </List>\r\n                </Paper>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}