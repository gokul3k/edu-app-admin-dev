{"ast":null,"code":"var _jsxFileName = \"E:\\\\Work-Files\\\\Maxffort\\\\Client-Projects\\\\HSST-Madhi-Consultancy\\\\Code\\\\dev\\\\edu-project\\\\live\\\\edu-app-admin\\\\src\\\\pages\\\\DashboardPage\\\\Exams\\\\ExamDetails\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport SimpleLoading from \"../../../../components/loading/SimpleLoading\";\nimport api from \"../../../../api/api\";\nimport { getCredentials } from \"../../../../services/authService\";\nimport ExamDetailsMenu from \"../../../../components/menu/ExamDetailsMenu\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Button, Chip, Grid } from \"@material-ui/core\";\nimport Details from \"./Details\";\nimport Instructions from \"./Instructions\";\nimport Questions from \"./Questions\";\nimport { getExam } from \"../../../../actions/examActions\";\nimport ExamMarkList from './ExamMarkList';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Switch, Route, Redirect, withRouter, useLocation } from \"react-router-dom\";\nimport MarkList from \"../MarkLIst\";\nimport ExamAssignStudents from \"./ExamAssignStudents\";\nimport EditQuestions from \"./EditQuestions\";\nconst useStyles = makeStyles(theme => ({\n  menuContainer: {\n    display: \" flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  }\n}));\nexport default function ExamDetails(props) {\n  _s();\n\n  const classes = useStyles();\n  const [edit, setEdit] = useState(false);\n  const exam = useSelector(state => state.exam);\n  const {\n    loading,\n    details,\n    instructions,\n    questions,\n    counts\n  } = exam;\n  const [progress, setProgress] = useState(false);\n  const dispatch = useDispatch();\n  const [status, setStatus] = useState();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    dispatch(getExam(props.match.params.id));\n  }, []);\n  useEffect(() => {\n    setStatus(details.status);\n  }, [loading]);\n\n  const disableExam = async id => {\n    try {\n      const {\n        data\n      } = await api.post(\"/admin/toggleExamStatus\", {\n        examId: id\n      }, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getCredentials()}`\n        }\n      }, {\n        timeout: 1000\n      });\n      dispatch(getExam(props.match.params.id)); // setProgress(false)\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const editExam = async () => {\n    try {\n      const {\n        data\n      } = await api.post(\"/admin/editExam\", {\n        details: data.details\n      }, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${getCredentials()}`\n        }\n      }, {\n        timeout: 1000\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const onEditClicked = () => {\n    setEdit(!edit);\n  };\n\n  const onAssignClicked = () => {\n    props.history.push(\"/app/exams/details/\" + props.match.params.id + \"/assignStudents\");\n  };\n\n  const onDeleteClicked = () => {};\n\n  const onDisableClicked = () => {\n    // setProgress(true)\n    disableExam(props.match.params.id); // dispatch(getExam(props.match.params.id))\n  };\n\n  const onEdit = async (values, mode) => {\n    switch (mode) {\n      case \"details\":\n        editExam(values);\n        dispatch(getExam(props.match.params.id));\n        setEdit(false);\n        break;\n\n      case \"instructions\":\n        setEdit(false);\n        break;\n\n      case \"questions\":\n        setEdit(false);\n        break;\n    }\n  };\n\n  const updateQuestions = () => {\n    setOpen(true);\n  };\n\n  const replaceQuestions = () => {\n    setOpen(true);\n  };\n\n  if (loading && !progress) {\n    console.log(\"d\", !!details);\n    return /*#__PURE__*/React.createElement(SimpleLoading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 12\n      }\n    });\n  } else return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(EditQuestions, {\n    open: open,\n    handleClickOpen: handleClickOpen,\n    handleClose: handleClose,\n    update: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/app/exams/details/:id/marklist\",\n    component: ExamMarkList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/app/exams/details/:id/assignStudents\",\n    component: ExamAssignStudents,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/app/exams/details/:id\",\n    render: () => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.menuContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(ExamDetailsMenu, {\n      onEditClicked: onEditClicked,\n      onDeleteClicked: onDeleteClicked,\n      onDisableClicked: onDisableClicked,\n      onAssignClicked: onAssignClicked,\n      onUpdateQuestionsClicked: updateQuestions,\n      onReplaceQuestionsClicked: replaceQuestions,\n      disabled: details.Status === \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      size: \"small\",\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: () => props.history.push(\"/app/exams/details/\" + props.match.params.id + \"/marklist\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 19\n      }\n    }, \"Mark list\")), details.Status && /*#__PURE__*/React.createElement(Chip, {\n      size: \"small\",\n      label: details.Status,\n      color: details.Status === \"active\" ? \"primary\" : \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Details, {\n      details: details,\n      edit: edit,\n      onEdit: onEdit,\n      counts: counts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Instructions, {\n      edit: false,\n      onEdit: onEdit,\n      instructions: instructions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Questions, {\n      questions: questions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  })));\n}\n\n_s(ExamDetails, \"AQjVrNEBwcaa2/W+EboiNW07HkY=\", false, function () {\n  return [useStyles, useSelector, useDispatch];\n});\n\n_c = ExamDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExamDetails\");","map":{"version":3,"sources":["E:/Work-Files/Maxffort/Client-Projects/HSST-Madhi-Consultancy/Code/dev/edu-project/live/edu-app-admin/src/pages/DashboardPage/Exams/ExamDetails/index.js"],"names":["React","useState","useEffect","SimpleLoading","api","getCredentials","ExamDetailsMenu","makeStyles","Button","Chip","Grid","Details","Instructions","Questions","getExam","ExamMarkList","useDispatch","useSelector","Switch","Route","Redirect","withRouter","useLocation","MarkList","ExamAssignStudents","EditQuestions","useStyles","theme","menuContainer","display","alignItems","justifyContent","ExamDetails","props","classes","edit","setEdit","exam","state","loading","details","instructions","questions","counts","progress","setProgress","dispatch","status","setStatus","open","setOpen","handleClickOpen","handleClose","match","params","id","disableExam","data","post","examId","headers","Authorization","timeout","error","console","log","editExam","onEditClicked","onAssignClicked","history","push","onDeleteClicked","onDisableClicked","onEdit","values","mode","updateQuestions","replaceQuestions","Status"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport SimpleLoading from \"../../../../components/loading/SimpleLoading\";\r\nimport api from \"../../../../api/api\";\r\nimport { getCredentials } from \"../../../../services/authService\";\r\nimport ExamDetailsMenu from \"../../../../components/menu/ExamDetailsMenu\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Button, Chip, Grid } from \"@material-ui/core\";\r\nimport Details from \"./Details\";\r\nimport Instructions from \"./Instructions\";\r\nimport Questions from \"./Questions\";\r\nimport { getExam } from \"../../../../actions/examActions\";\r\nimport ExamMarkList from './ExamMarkList'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n  withRouter,\r\n  useLocation,\r\n} from \"react-router-dom\";\r\nimport MarkList from \"../MarkLIst\";\r\nimport ExamAssignStudents from \"./ExamAssignStudents\";\r\nimport EditQuestions from \"./EditQuestions\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  menuContainer: {\r\n    display: \" flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n}));\r\nexport default function ExamDetails(props) {\r\n  const classes = useStyles();\r\n\r\n  const [edit, setEdit] = useState(false);\r\n  const exam = useSelector((state) => state.exam);\r\n  const { loading, details, instructions, questions,counts } = exam;\r\n  const [progress, setProgress] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const [status, setStatus] = useState();\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(getExam(props.match.params.id));\r\n  }, []);\r\n  useEffect(() => {\r\n    setStatus(details.status);\r\n  }, [loading]);\r\n  const disableExam = async (id) => {\r\n    try {\r\n      const { data } = await api.post(\r\n        \"/admin/toggleExamStatus\",\r\n        { examId: id },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${getCredentials()}`,\r\n          },\r\n        },\r\n        { timeout: 1000 }\r\n      );\r\n      dispatch(getExam(props.match.params.id));\r\n      // setProgress(false)\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const editExam = async () => {\r\n    try {\r\n      const { data } = await api.post(\r\n        \"/admin/editExam\",\r\n        { details: data.details },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${getCredentials()}`,\r\n          },\r\n        },\r\n        { timeout: 1000 }\r\n      );\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const onEditClicked = () => {\r\n    setEdit(!edit);\r\n  };\r\n\r\n  const onAssignClicked = () => {\r\n    props.history.push(\"/app/exams/details/\" + props.match.params.id + \"/assignStudents\");\r\n  }\r\n  const onDeleteClicked = () => { };\r\n  const onDisableClicked = () => {\r\n    // setProgress(true)\r\n    disableExam(props.match.params.id);\r\n    // dispatch(getExam(props.match.params.id))\r\n  };\r\n  const onEdit = async (values, mode) => {\r\n    switch (mode) {\r\n      case \"details\":\r\n        editExam(values);\r\n        dispatch(getExam(props.match.params.id));\r\n        setEdit(false);\r\n        break;\r\n\r\n      case \"instructions\":\r\n        setEdit(false);\r\n        break;\r\n\r\n      case \"questions\":\r\n        setEdit(false);\r\n        break;\r\n    }\r\n  };\r\n  const updateQuestions = () => {\r\n    setOpen(true)\r\n  }\r\n  const replaceQuestions = () => {\r\n    setOpen(true)\r\n  }\r\n\r\n  if (loading && !progress) {\r\n    console.log(\"d\", !!details);\r\n    return <SimpleLoading />;\r\n  } else\r\n    return (\r\n      <div>\r\n        <EditQuestions open={open} handleClickOpen={handleClickOpen} handleClose={handleClose} update={true}/>\r\n        <Switch>\r\n          <Route path=\"/app/exams/details/:id/marklist\" component={ExamMarkList} />\r\n          <Route path=\"/app/exams/details/:id/assignStudents\" component={ExamAssignStudents} />\r\n          <Route\r\n            path=\"/app/exams/details/:id\"\r\n            render={() => (\r\n              <div>\r\n                <div className={classes.menuContainer}>\r\n                  <div></div>\r\n                  <ExamDetailsMenu\r\n                    onEditClicked={onEditClicked}\r\n                    onDeleteClicked={onDeleteClicked}\r\n                    onDisableClicked={onDisableClicked}\r\n                    onAssignClicked={onAssignClicked}\r\n                    onUpdateQuestionsClicked={updateQuestions}\r\n                    onReplaceQuestionsClicked={replaceQuestions}\r\n                    disabled={details.Status === \"active\"}\r\n                  />\r\n                  <Button\r\n                    size=\"small\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={() =>\r\n                      props.history.push(\"/app/exams/details/\" + props.match.params.id + \"/marklist\")\r\n                    }\r\n                  >\r\n                    Mark list\r\n          </Button>\r\n                </div>\r\n                {details.Status && (\r\n                  <Chip\r\n                    size=\"small\"\r\n                    label={details.Status}\r\n                    color={\r\n                      details.Status === \"active\" ? \"primary\" : \"secondary\"\r\n                    }\r\n                  />\r\n                )}\r\n                <Details details={details} edit={edit} onEdit={onEdit} counts={counts} />\r\n                <Instructions\r\n                  edit={false}\r\n                  onEdit={onEdit}\r\n                  instructions={instructions}\r\n                />\r\n                <Questions questions={questions} />\r\n              </div>\r\n            )}\r\n          />\r\n        </Switch>\r\n      </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}